{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/laws/law-actions/LawActions.tsx\";\nimport { Row } from 'reactstrap';\nimport React, { useContext } from 'react';\nimport { Icon, sessionContext } from '@instinct-web/core';\nimport { VoteOnLawModal } from './vote-on-law-modal/VoteOnLawModal';\nimport { OpenVotingModal } from './open-voting-modal/OpenVotingModal';\nimport { DismissLawModal } from './dismiss-law-modal/DismissLawModal';\nimport { LawStatus, LawVoteStatus } from '@instinct-plugin/roleplay-types';\nimport { RPPermissionGuard } from '../../../../components/templates/permission-guard';\nexport function LawActions({\n  law,\n  onChange\n}) {\n  const {\n    user\n  } = useContext(sessionContext);\n  const isAuthor = law.user.id === user.id;\n  const hasVoted = law.votes.find(_ => _.user.id === user.id);\n  const lawStatusToActions = {\n    [LawStatus.Draft]: /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 24\n      }\n    }, \"Voting for this law has not started yet\"),\n    [LawStatus.UnderReview]: hasVoted ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(VoteOnLawModal, {\n      law: law,\n      vote: LawVoteStatus.Approved,\n      onFinish: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-success mr-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"thumbs-up\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 15\n      }\n    }), \"Approve\")), /*#__PURE__*/React.createElement(VoteOnLawModal, {\n      law: law,\n      vote: LawVoteStatus.Rejected,\n      onFinish: onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-danger mr-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      type: \"thumbs-down\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }), \"Reject\"))) : /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    }, \"You already voted on this law\"),\n    [LawStatus.Approved]: /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 27\n      }\n    }, \"Voting for this law has finished\"),\n    [LawStatus.Rejected]: /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 27\n      }\n    }, \"Voting for this law has finished\")\n  };\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    style: {\n      borderRight: '1px solid white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Voting\"), lawStatusToActions[law.status]), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, \"Other\"), /*#__PURE__*/React.createElement(RPPermissionGuard, {\n    permission: \"websiteVoteOnLaws\",\n    redirect: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, isAuthor && law.status === LawStatus.Draft && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-info mr-4\",\n    disabled: law.status !== LawStatus.Draft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }\n  }), \"Edit\")), /*#__PURE__*/React.createElement(DismissLawModal, {\n    law: law,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(OpenVotingModal, {\n    law: law,\n    onFinish: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}