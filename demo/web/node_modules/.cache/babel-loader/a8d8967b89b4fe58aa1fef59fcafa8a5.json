{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./RecentNews.scss';import Moment from'moment';import{Link}from'wouter';import{Card}from'../../generic/card';import{articleService}from'@instinct-web/core';import{Loading}from'../../generic/loading';import React,{useEffect,useState}from'react';import{defaultRecentNewsState}from'./';export function RecentNews(){var _useState=useState(defaultRecentNewsState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){function fetchArticles(){return _fetchArticles.apply(this,arguments);}function _fetchArticles(){_fetchArticles=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var articles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return articleService.getAll();case 2:articles=_context.sent;setState({articles:articles,isLoading:false});case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchArticles.apply(this,arguments);}setState(defaultRecentNewsState);fetchArticles();},[]);return/*#__PURE__*/React.createElement(Card,{header:\"Recent Articles\"},/*#__PURE__*/React.createElement(Loading,{isLoading:state.isLoading},/*#__PURE__*/React.createElement(\"div\",{className:\"related-articles-container\",style:{maxHeight:200,overflowY:'scroll'}},state.articles.map(function(article){return/*#__PURE__*/React.createElement(Link,{className:\"related-article-container\",key:article.id,to:\"/community/news/\".concat(article.id)},/*#__PURE__*/React.createElement(\"div\",{className:\"related-article-thumbnail\",style:{backgroundImage:\"url(\".concat(article.thumbnailImage,\")\")}}),/*#__PURE__*/React.createElement(\"div\",{className:\"related-article-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"related-article-title\"},article.title),/*#__PURE__*/React.createElement(\"div\",{className:\"related-article-date\"},Moment.unix(article.datePosted).format('MMM DD, YYYY'))));}),state.articles.length===0&&/*#__PURE__*/React.createElement(\"p\",null,\"There are no articles\"))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/components/templates/recent-news/RecentNews.tsx"],"names":["Moment","Link","Card","articleService","Loading","React","useEffect","useState","defaultRecentNewsState","RecentNews","state","setState","fetchArticles","getAll","articles","isLoading","maxHeight","overflowY","map","article","id","backgroundImage","thumbnailImage","title","unix","datePosted","format","length"],"mappings":"4bAAA,MAAO,mBAAP,CACA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAAQC,IAAR,KAAmB,QAAnB,CACA,OAAQC,IAAR,KAAmB,oBAAnB,CACA,OAAQC,cAAR,KAA6B,oBAA7B,CAEA,OAAQC,OAAR,KAAsB,uBAAtB,CACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,sBAAR,KAAsD,IAAtD,CAEA,MAAO,SAASC,CAAAA,UAAT,EAAsB,CAC3B,cAA0BF,QAAQ,CAAkBC,sBAAlB,CAAlC,wCAAOE,KAAP,eAAcC,QAAd,eAEAL,SAAS,CAAC,UAAM,SACCM,CAAAA,aADD,iJACd,sKACoCT,CAAAA,cAAc,CAACU,MAAf,EADpC,QACQC,QADR,eAEEH,QAAQ,CAAC,CACPG,QAAQ,CAARA,QADO,CAEPC,SAAS,CAAE,KAFJ,CAAD,CAAR,CAFF,sDADc,gDASdJ,QAAQ,CAACH,sBAAD,CAAR,CACAI,aAAa,GACd,CAXQ,CAWN,EAXM,CAAT,CAaA,mBACE,oBAAC,IAAD,EAAM,MAAM,CAAC,iBAAb,eACE,oBAAC,OAAD,EAAS,SAAS,CAAEF,KAAK,CAACK,SAA1B,eACE,2BACE,SAAS,CAAC,4BADZ,CAEE,KAAK,CAAE,CAACC,SAAS,CAAE,GAAZ,CAAiBC,SAAS,CAAE,QAA5B,CAFT,EAIGP,KAAK,CAACI,QAAN,CAAeI,GAAf,CAAmB,SAAAC,OAAO,qBACzB,oBAAC,IAAD,EACE,SAAS,CAAC,2BADZ,CAEE,GAAG,CAAEA,OAAO,CAACC,EAFf,CAGE,EAAE,2BAAqBD,OAAO,CAACC,EAA7B,CAHJ,eAKE,2BACE,SAAS,CAAC,2BADZ,CAEE,KAAK,CAAE,CAACC,eAAe,eAASF,OAAO,CAACG,cAAjB,KAAhB,CAFT,EALF,cASE,2BAAK,SAAS,CAAC,yBAAf,eACE,2BAAK,SAAS,CAAC,uBAAf,EAAwCH,OAAO,CAACI,KAAhD,CADF,cAEE,2BAAK,SAAS,CAAC,sBAAf,EACGvB,MAAM,CAACwB,IAAP,CAAYL,OAAO,CAACM,UAApB,EAAgCC,MAAhC,CAAuC,cAAvC,CADH,CAFF,CATF,CADyB,EAA1B,CAJH,CAsBGhB,KAAK,CAACI,QAAN,CAAea,MAAf,GAA0B,CAA1B,eAA+B,qDAtBlC,CADF,CADF,CADF,CA8BD","sourcesContent":["import './RecentNews.scss';\nimport Moment from 'moment';\nimport {Link} from 'wouter';\nimport {Card} from '../../generic/card';\nimport {articleService} from '@instinct-web/core';\nimport {Article} from '@instinct-prj/interface';\nimport {Loading} from '../../generic/loading';\nimport React, {useEffect, useState} from 'react';\nimport {defaultRecentNewsState, RecentNewsState} from './';\n\nexport function RecentNews() {\n  const [state, setState] = useState<RecentNewsState>(defaultRecentNewsState);\n\n  useEffect(() => {\n    async function fetchArticles(): Promise<void> {\n      const articles: Article[] = await articleService.getAll();\n      setState({\n        articles,\n        isLoading: false,\n      });\n    }\n\n    setState(defaultRecentNewsState);\n    fetchArticles();\n  }, []);\n\n  return (\n    <Card header=\"Recent Articles\">\n      <Loading isLoading={state.isLoading}>\n        <div\n          className=\"related-articles-container\"\n          style={{maxHeight: 200, overflowY: 'scroll'}}\n        >\n          {state.articles.map(article => (\n            <Link\n              className=\"related-article-container\"\n              key={article.id}\n              to={`/community/news/${article.id}`}\n            >\n              <div\n                className=\"related-article-thumbnail\"\n                style={{backgroundImage: `url(${article.thumbnailImage})`}}\n              />\n              <div className=\"related-article-details\">\n                <div className=\"related-article-title\">{article.title}</div>\n                <div className=\"related-article-date\">\n                  {Moment.unix(article.datePosted).format('MMM DD, YYYY')}\n                </div>\n              </div>\n            </Link>\n          ))}\n          {state.articles.length === 0 && <p>There are no articles</p>}\n        </div>\n      </Loading>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}