{"ast":null,"code":"import _objectSpread from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{businessEditorContext}from'../../context';import{Form,Icon,Input,sessionContext}from'@instinct-web/core';import{FormGroup,Modal,ModalHeader,ModalBody,ModalFooter}from'reactstrap';import{exampleBusinessPositionDTO}from'@instinct-plugin/roleplay-types';export function AddPositionModal(){var _useContext=useContext(sessionContext),user=_useContext.user;var _useContext2=useContext(businessEditorContext),addPosition=_useContext2.addPosition;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showModal=_useState2[0],setModal=_useState2[1];var _useState3=useState(exampleBusinessPositionDTO),_useState4=_slicedToArray(_useState3,2),position=_useState4[0],setPositionState=_useState4[1];function onToggle(){setModal(function(_){return!_;});}function onCancel(){setPositionState(exampleBusinessPositionDTO);onToggle();}function onSubmit(){addPosition(position);setPositionState(exampleBusinessPositionDTO);onToggle();}function _onChange(key,value){setPosition(_defineProperty({},key,value));}function setPosition(changes){setPositionState(function(_){return _objectSpread(_objectSpread({},_),changes);});}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 text-right mb-5\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-info btn-sm\",onClick:onToggle},/*#__PURE__*/React.createElement(Icon,{type:\"plus-circle\"}),\"Add Position\")),/*#__PURE__*/React.createElement(Modal,{isOpen:showModal,toggle:onToggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:onToggle},\"Add Job Position\"),/*#__PURE__*/React.createElement(Form,{className:\"\",onSubmit:onSubmit},/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Details\"),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"h4\",null,\"Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",onChange:_onChange,value:position.name}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h3\",null,\"Salary\"),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{fontSize:20}},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},\"$0\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-center \",style:{fontWeight:500}},\"$\",position.shiftWage),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 text-right\"},\"100\")),/*#__PURE__*/React.createElement(\"input\",{type:\"range\",className:\"form-control-range\",value:position.shiftWage,onChange:function onChange(e){return _onChange('shiftWage',Number(e.target.value));},min:0,max:user.credits}))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"span\",{onClick:onCancel},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-success ml-2\",type:\"submit\",onSubmit:onSubmit},\"Accept\")))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/business/editor/steps/add-position-modal/AddPositionModal.tsx"],"names":["React","useContext","useState","businessEditorContext","Form","Icon","Input","sessionContext","FormGroup","Modal","ModalHeader","ModalBody","ModalFooter","exampleBusinessPositionDTO","AddPositionModal","user","addPosition","showModal","setModal","position","setPositionState","onToggle","_","onCancel","onSubmit","onChange","key","value","setPosition","changes","name","fontSize","fontWeight","shiftWage","e","Number","target","credits"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\nimport {businessEditorContext} from '../../context';\nimport {Form, Icon, Input, sessionContext} from '@instinct-web/core';\nimport {\n  FormGroup,\n  Modal,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n} from 'reactstrap';\nimport {\n  BusinessPositionDTO,\n  exampleBusinessPositionDTO,\n} from '@instinct-plugin/roleplay-types';\n\nexport function AddPositionModal() {\n  const {user} = useContext(sessionContext);\n  const {addPosition} = useContext(businessEditorContext);\n  const [showModal, setModal] = useState(false);\n  const [position, setPositionState] = useState(exampleBusinessPositionDTO);\n\n  function onToggle() {\n    setModal(_ => !_);\n  }\n\n  function onCancel() {\n    setPositionState(exampleBusinessPositionDTO);\n    onToggle();\n  }\n\n  function onSubmit() {\n    addPosition(position);\n    setPositionState(exampleBusinessPositionDTO);\n    onToggle();\n  }\n\n  function onChange<K extends keyof BusinessPositionDTO>(\n    key: K,\n    value: BusinessPositionDTO[K]\n  ) {\n    setPosition({[key]: value});\n  }\n\n  function setPosition(changes: Partial<BusinessPositionDTO>) {\n    setPositionState(_ => ({\n      ..._,\n      ...changes,\n    }));\n  }\n\n  return (\n    <>\n      <div className=\"w-100 text-right mb-5\">\n        <button className=\"btn btn-outline-info btn-sm\" onClick={onToggle}>\n          <Icon type=\"plus-circle\" />\n          Add Position\n        </button>\n      </div>\n      <Modal isOpen={showModal} toggle={onToggle}>\n        <ModalHeader toggle={onToggle}>Add Job Position</ModalHeader>\n        <Form className=\"\" onSubmit={onSubmit}>\n          <ModalBody>\n            <div>\n              <h3>Details</h3>\n              <FormGroup>\n                <h4>Name</h4>\n                <Input\n                  type=\"text\"\n                  name=\"name\"\n                  onChange={onChange}\n                  value={position.name}\n                />\n              </FormGroup>\n            </div>\n            <div>\n              <div>\n                <h3>Salary</h3>\n                <FormGroup>\n                  <div className=\"row\" style={{fontSize: 20}}>\n                    <div className=\"col-4\">$0</div>\n                    <div\n                      className=\"col-4 text-center \"\n                      style={{fontWeight: 500}}\n                    >\n                      ${position.shiftWage}\n                    </div>\n                    <div className=\"col-4 text-right\">100</div>\n                  </div>\n                  <input\n                    type=\"range\"\n                    className=\"form-control-range\"\n                    value={position.shiftWage}\n                    onChange={e =>\n                      onChange('shiftWage', Number(e.target.value))\n                    }\n                    min={0}\n                    max={user!.credits}\n                  />\n                </FormGroup>\n              </div>\n            </div>\n          </ModalBody>\n          <ModalFooter>\n            <span onClick={onCancel}>Cancel</span>\n            <button\n              className=\"btn btn-outline-success ml-2\"\n              type=\"submit\"\n              onSubmit={onSubmit}\n            >\n              Accept\n            </button>\n          </ModalFooter>\n        </Form>\n      </Modal>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}