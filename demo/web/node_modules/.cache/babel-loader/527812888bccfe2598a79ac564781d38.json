{"ast":null,"code":"import Moment from'moment';import'./MyEmploymentCard.scss';import{Row}from'../../generic/row';import React,{useContext}from'react';import{Card}from'../../generic/card/Card';import{configContext}from'@instinct-web/core';import{EmploymentBlock}from'./employment-block/EmploymentBlock';export function MyEmploymentCard(_ref){var _user$rpStats$health$,_user$rpStats$health$2,_user$rpStats$energy$,_user$rpStats$energy$2;var user=_ref.user;var _useContext=useContext(configContext),config=_useContext.config;var currentHealth=(_user$rpStats$health$=user.rpStats.health.current)!==null&&_user$rpStats$health$!==void 0?_user$rpStats$health$:0,maximumHealth=(_user$rpStats$health$2=user.rpStats.health.maximum)!==null&&_user$rpStats$health$2!==void 0?_user$rpStats$health$2:100;var currentEnergy=(_user$rpStats$energy$=user.rpStats.energy.current)!==null&&_user$rpStats$energy$!==void 0?_user$rpStats$energy$:0,maximumEnergy=(_user$rpStats$energy$2=user.rpStats.energy.maximum)!==null&&_user$rpStats$energy$2!==void 0?_user$rpStats$energy$2:100;function safeDivide(divide,by){return divide>=by?100:!!divide&&!!by?Number(divide/by):0;}return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Health\"),/*#__PURE__*/React.createElement(\"div\",{className:\"progress\"},/*#__PURE__*/React.createElement(\"div\",{className:\"progress-bar bg-danger\",role:\"progressbar\",style:{width:\"\".concat(safeDivide(currentHealth,maximumHealth),\"%\")},\"aria-valuenow\":currentHealth,\"aria-valuemax\":100}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Energy\"),/*#__PURE__*/React.createElement(\"div\",{className:\"progress\"},/*#__PURE__*/React.createElement(\"div\",{className:\"progress-bar bg-success\",role:\"progressbar\",style:{width:\"\".concat(safeDivide(currentEnergy,maximumEnergy),\"%\")},\"aria-valuenow\":currentEnergy,\"aria-valuemax\":100}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Wallet\"),/*#__PURE__*/React.createElement(\"p\",null,\"$\",Number(user.credits).toLocaleString())),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Last Online\"),/*#__PURE__*/React.createElement(\"p\",null,Moment(user.lastLoginDate).format('MMMM DD, YYYY'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Employment\"),user.rpStats.job&&/*#__PURE__*/React.createElement(EmploymentBlock,{badge:\"\".concat(config.swfBadgeURL,\"/\").concat(user.rpStats.job.businessBadge,\".gif\"),position:user.rpStats.job.positionName,name:user.rpStats.job.businessName,link:\"/businesses/\".concat(user.rpStats.job.businessID)}),!user.rpStats.job&&/*#__PURE__*/React.createElement(\"p\",null,\"No job\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-4\"},/*#__PURE__*/React.createElement(\"b\",null,\"Gang Affiliation\"),user.rpStats.gang&&/*#__PURE__*/React.createElement(EmploymentBlock,{badge:\"\".concat(config.swfBadgeURL,\"/\").concat(user.rpStats.gang.gangBadge,\".gif\"),position:user.rpStats.gang.rankName,name:user.rpStats.gang.gangName,link:\"/gangs/\".concat(user.rpStats.gang.gangID)}),!user.rpStats.gang&&/*#__PURE__*/React.createElement(\"p\",null,\"No gang\"))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/components/templates/my-employment-card/MyEmploymentCard.tsx"],"names":["Moment","Row","React","useContext","Card","configContext","EmploymentBlock","MyEmploymentCard","user","config","currentHealth","rpStats","health","current","maximumHealth","maximum","currentEnergy","energy","maximumEnergy","safeDivide","divide","by","Number","width","credits","toLocaleString","lastLoginDate","format","job","swfBadgeURL","businessBadge","positionName","businessName","businessID","gang","gangBadge","rankName","gangName","gangID"],"mappings":"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","sourcesContent":["import Moment from 'moment';\nimport './MyEmploymentCard.scss';\nimport {Row} from '../../generic/row';\nimport React, {useContext} from 'react';\nimport {Icon} from '../../generic/icon/Icon';\nimport {Card} from '../../generic/card/Card';\nimport {configContext} from '@instinct-web/core';\nimport {MyEmploymentCardProps} from './MyEmploymentCard.types';\nimport {EmploymentBlock} from './employment-block/EmploymentBlock';\n\nexport function MyEmploymentCard({user}: MyEmploymentCardProps) {\n  const {config} = useContext(configContext);\n\n  const [currentHealth, maximumHealth] = [\n    user.rpStats.health.current ?? 0,\n    user.rpStats.health.maximum ?? 100,\n  ];\n\n  const [currentEnergy, maximumEnergy] = [\n    user.rpStats.energy.current ?? 0,\n    user.rpStats.energy.maximum ?? 100,\n  ];\n\n  function safeDivide(divide: number, by: number): number {\n    return divide >= by ? 100 : !!divide && !!by ? Number(divide / by) : 0;\n  }\n\n  return (\n    <Card>\n      <Row>\n        <div className=\"col-6 mb-4\">\n          <h4>Health</h4>\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar bg-danger\"\n              role=\"progressbar\"\n              style={{width: `${safeDivide(currentHealth, maximumHealth)}%`}}\n              aria-valuenow={currentHealth}\n              aria-valuemax={100}\n            />\n          </div>\n        </div>\n        <div className=\"col-6 mb-4\">\n          <b>Energy</b>\n          <div className=\"progress\">\n            <div\n              className=\"progress-bar bg-success\"\n              role=\"progressbar\"\n              style={{width: `${safeDivide(currentEnergy, maximumEnergy)}%`}}\n              aria-valuenow={currentEnergy}\n              aria-valuemax={100}\n            />\n          </div>\n        </div>\n        <div className=\"col-6 mb-4\">\n          <h4>Wallet</h4>\n          <p>${Number(user.credits).toLocaleString()}</p>\n        </div>\n        <div className=\"col-6 mb-4\">\n          <b>Last Online</b>\n          <p>{Moment(user.lastLoginDate).format('MMMM DD, YYYY')}</p>\n        </div>\n        <div className=\"col-6 mb-4\">\n          <b>Employment</b>\n          {user.rpStats.job && (\n            <EmploymentBlock\n              badge={`${config.swfBadgeURL}/${\n                user.rpStats.job!.businessBadge\n              }.gif`}\n              position={user.rpStats.job!.positionName}\n              name={user.rpStats!.job!.businessName}\n              link={`/businesses/${user.rpStats.job!.businessID}`}\n            />\n          )}\n          {!user.rpStats.job && <p>No job</p>}\n        </div>\n        <div className=\"col-6 mb-4\">\n          <b>Gang Affiliation</b>\n          {user.rpStats.gang && (\n            <EmploymentBlock\n              badge={`${config.swfBadgeURL}/${\n                user.rpStats.gang!.gangBadge\n              }.gif`}\n              position={user.rpStats!.gang!.rankName}\n              name={user.rpStats!.gang!.gangName}\n              link={`/gangs/${user.rpStats.gang!.gangID}`}\n            />\n          )}\n          {!user.rpStats.gang && <p>No gang</p>}\n        </div>\n      </Row>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}