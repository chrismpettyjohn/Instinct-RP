{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{Link,useRoute}from'wouter';import{Avatar,Icon,sessionContext,setURL}from'@instinct-web/core';import{Row}from'../../components/generic/row/Row';import{Card}from'../../components/generic/card/Card';import{UserLayout}from'../../components/layout/user';import{Container}from'../../components/generic/container/Container';import{MiniJumbotron}from'../../components/generic/mini-jumbotron/MiniJumbotron';import Moment from'moment';import{GuideReaction}from'@instinct-plugin/roleplay-types';import{useFetchGuideByID}from'../../hooks/guide/fetch-guide-by-id';import{GuideEditor}from'./guide-editor/GuideEditor';import{guideService}from'../../services/guide';import{toast}from'react-toastify';setURL('guides/edit/:guideID',/*#__PURE__*/React.createElement(GuideEdit,null));export function GuideEdit(){var _guide$name,_guide$content,_guide$category$id,_guide$category,_guide$name2,_guide$category$name,_guide$category2,_guide$user,_guide$user$username,_guide$user2,_guide$user$rank$name,_guide$user3,_guide$user3$rank,_guide$reactions$filt,_guide$reactions,_guide$reactions$filt2,_guide$reactions$filt3,_guide$reactions2,_guide$reactions2$fil;var _useContext=useContext(sessionContext),user=_useContext.user;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),refresh=_useState2[0],setRefresh=_useState2[1];var _useRoute=useRoute('/guides/edit/:guideID'),_useRoute2=_slicedToArray(_useRoute,2),matched=_useRoute2[0],params=_useRoute2[1];var guide=useFetchGuideByID(params.guideID,refresh);if(guide&&guide.user.id!==(user===null||user===void 0?void 0:user.id)){return/*#__PURE__*/React.createElement(Link,{to:\"/guides/view/\".concat(guide===null||guide===void 0?void 0:guide.id)});}var baseGuideDTO={name:(_guide$name=guide===null||guide===void 0?void 0:guide.name)!==null&&_guide$name!==void 0?_guide$name:'',content:(_guide$content=guide===null||guide===void 0?void 0:guide.content)!==null&&_guide$content!==void 0?_guide$content:'',categoryID:(_guide$category$id=guide===null||guide===void 0?void 0:(_guide$category=guide.category)===null||_guide$category===void 0?void 0:_guide$category.id)!==null&&_guide$category$id!==void 0?_guide$category$id:0};function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(guideDTO){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return guideService.updateByID(guide.id,guideDTO);case 3:toast.success(\"Guide \".concat(guideDTO.name,\" has been updated\"));setRefresh(function(_){return _+1;});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error(\"Guide \".concat(guide.name,\" could not be updated at this time\"));case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(UserLayout,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 d-flex\"},/*#__PURE__*/React.createElement(Link,{to:\"/guides\"},/*#__PURE__*/React.createElement(Icon,{className:\"fa-4x text-white\",style:{cursor:'pointer'},type:\"caret-left\"})),/*#__PURE__*/React.createElement(\"h2\",{className:\"text-white ml-4\",style:{marginTop:10}},\"Editing Guide:\",' ',/*#__PURE__*/React.createElement(\"b\",null,(_guide$name2=guide===null||guide===void 0?void 0:guide.name)!==null&&_guide$name2!==void 0?_guide$name2:/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(Card,{className:\"mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Category:\"),/*#__PURE__*/React.createElement(\"p\",null,(_guide$category$name=guide===null||guide===void 0?void 0:(_guide$category2=guide.category)===null||_guide$category2===void 0?void 0:_guide$category2.name)!==null&&_guide$category$name!==void 0?_guide$category$name:/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Created At:\"),/*#__PURE__*/React.createElement(\"p\",null,guide?Moment.unix(guide.createdAt).format('MM/DD/YYYY'):/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Last Updated:\"),/*#__PURE__*/React.createElement(\"p\",null,guide?Moment.unix(guide.updatedAt).format('MM/DD/YYYY'):/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Author\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex mt-2\"},/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(guide===null||guide===void 0?void 0:(_guide$user=guide.user)===null||_guide$user===void 0?void 0:_guide$user.username)},/*#__PURE__*/React.createElement(\"div\",{className:\"member-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"member-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"member-avatar flex-container flex-vertical-center flex-horizontal-center\",style:{overflow:'hidden'}},guide?/*#__PURE__*/React.createElement(Avatar,{look:guide.user.figure}):/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-2 mt-2\"},/*#__PURE__*/React.createElement(\"h4\",null,(_guide$user$username=guide===null||guide===void 0?void 0:(_guide$user2=guide.user)===null||_guide$user2===void 0?void 0:_guide$user2.username)!==null&&_guide$user$username!==void 0?_guide$user$username:/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"})),/*#__PURE__*/React.createElement(\"p\",null,(_guide$user$rank$name=guide===null||guide===void 0?void 0:(_guide$user3=guide.user)===null||_guide$user3===void 0?void 0:(_guide$user3$rank=_guide$user3.rank)===null||_guide$user3$rank===void 0?void 0:_guide$user3$rank.name)!==null&&_guide$user$rank$name!==void 0?_guide$user$rank$name:/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Upvotes\"),/*#__PURE__*/React.createElement(\"span\",{className:\"text-success\"},/*#__PURE__*/React.createElement(Icon,{type:\"thumbs-up\"}),' ',(_guide$reactions$filt=guide===null||guide===void 0?void 0:(_guide$reactions=guide.reactions)===null||_guide$reactions===void 0?void 0:(_guide$reactions$filt2=_guide$reactions.filter(function(_){return _.reaction===GuideReaction.Like;}))===null||_guide$reactions$filt2===void 0?void 0:_guide$reactions$filt2.length)!==null&&_guide$reactions$filt!==void 0?_guide$reactions$filt:/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Downvotes\"),/*#__PURE__*/React.createElement(\"span\",{className:\"text-danger\"},/*#__PURE__*/React.createElement(Icon,{type:\"thumbs-down\"}),' ',(_guide$reactions$filt3=guide===null||guide===void 0?void 0:(_guide$reactions2=guide.reactions)===null||_guide$reactions2===void 0?void 0:(_guide$reactions2$fil=_guide$reactions2.filter(function(_){return _.reaction===GuideReaction.Dislike;}))===null||_guide$reactions2$fil===void 0?void 0:_guide$reactions2$fil.length)!==null&&_guide$reactions$filt3!==void 0?_guide$reactions$filt3:/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(MiniJumbotron,null,guide?/*#__PURE__*/React.createElement(GuideEditor,{baseGuideDTO:baseGuideDTO,onSubmit:onSubmit}):/*#__PURE__*/React.createElement(Icon,{type:\"spinner fa-spin\"}))))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/guides/GuideEdit.tsx"],"names":["React","useContext","useState","Link","useRoute","Avatar","Icon","sessionContext","setURL","Row","Card","UserLayout","Container","MiniJumbotron","Moment","GuideReaction","useFetchGuideByID","GuideEditor","guideService","toast","GuideEdit","user","refresh","setRefresh","matched","params","guide","guideID","id","baseGuideDTO","name","content","categoryID","category","onSubmit","guideDTO","updateByID","success","_","error","cursor","marginTop","unix","createdAt","format","updatedAt","username","overflow","figure","rank","reactions","filter","reaction","Like","length","Dislike"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from 'react';\nimport {Link, useRoute} from 'wouter';\nimport {Avatar, Icon, sessionContext, setURL} from '@instinct-web/core';\nimport {Row} from '../../components/generic/row/Row';\nimport {Card} from '../../components/generic/card/Card';\nimport {UserLayout} from '../../components/layout/user';\nimport {Container} from '../../components/generic/container/Container';\nimport {MiniJumbotron} from '../../components/generic/mini-jumbotron/MiniJumbotron';\nimport Moment from 'moment';\nimport {GuideDTO, GuideReaction} from '@instinct-plugin/roleplay-types';\nimport ReactMarkdown from 'react-markdown';\nimport {useFetchGuideByID} from '../../hooks/guide/fetch-guide-by-id';\nimport {GuideEditor} from './guide-editor/GuideEditor';\nimport {guideService} from '../../services/guide';\nimport {toast} from 'react-toastify';\n\nsetURL('guides/edit/:guideID', <GuideEdit />);\n\nexport function GuideEdit() {\n  const {user} = useContext(sessionContext);\n  const [refresh, setRefresh] = useState(0);\n  const [matched, params] = useRoute<{guideID: string}>(\n    '/guides/edit/:guideID'\n  );\n\n  const guide = useFetchGuideByID(params!.guideID, refresh);\n\n  if (guide && guide.user.id !== user?.id) {\n    return <Link to={`/guides/view/${guide?.id}`} />;\n  }\n\n  const baseGuideDTO: GuideDTO = {\n    name: guide?.name ?? '',\n    content: guide?.content ?? '',\n    categoryID: guide?.category?.id ?? 0,\n  };\n\n  async function onSubmit(guideDTO: GuideDTO) {\n    try {\n      await guideService.updateByID(guide!.id, guideDTO);\n      toast.success(`Guide ${guideDTO.name} has been updated`);\n      setRefresh(_ => _ + 1);\n    } catch {\n      toast.error(`Guide ${guide.name} could not be updated at this time`);\n    }\n  }\n\n  return (\n    <UserLayout>\n      <Container>\n        <Row>\n          <div className=\"col-8 d-flex\">\n            <Link to=\"/guides\">\n              <Icon\n                className=\"fa-4x text-white\"\n                style={{cursor: 'pointer'}}\n                type=\"caret-left\"\n              />\n            </Link>\n            <h2 className=\"text-white ml-4\" style={{marginTop: 10}}>\n              Editing Guide:{' '}\n              <b>{guide?.name ?? <Icon type=\"spinner fa-spin\" />}</b>\n            </h2>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12\">\n            <Card className=\"mb-4\">\n              <div className=\"row\">\n                <div className=\"col-4 mb-4\">\n                  <h4>Category:</h4>\n                  <p>\n                    {guide?.category?.name ?? <Icon type=\"spinner fa-spin\" />}\n                  </p>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Created At:</h4>\n                  <p>\n                    {guide ? (\n                      Moment.unix(guide.createdAt).format('MM/DD/YYYY')\n                    ) : (\n                      <Icon type=\"spinner fa-spin\" />\n                    )}\n                  </p>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Last Updated:</h4>\n                  <p>\n                    {guide ? (\n                      Moment.unix(guide.updatedAt).format('MM/DD/YYYY')\n                    ) : (\n                      <Icon type=\"spinner fa-spin\" />\n                    )}\n                  </p>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Author</h4>\n                  <div className=\"d-flex mt-2\">\n                    <Link to={`/profile/${guide?.user?.username}`}>\n                      <div className=\"member-container\">\n                        <div className=\"member-content\">\n                          <div\n                            className=\"member-avatar flex-container flex-vertical-center flex-horizontal-center\"\n                            style={{overflow: 'hidden'}}\n                          >\n                            {guide ? (\n                              <Avatar look={guide.user.figure} />\n                            ) : (\n                              <Icon type=\"spinner fa-spin\" />\n                            )}\n                          </div>\n                        </div>\n                      </div>\n                    </Link>\n                    <div className=\"ml-2 mt-2\">\n                      <h4>\n                        {guide?.user?.username ?? (\n                          <Icon type=\"spinner fa-spin\" />\n                        )}\n                      </h4>\n                      <p>\n                        {guide?.user?.rank?.name ?? (\n                          <Icon type=\"spinner fa-spin\" />\n                        )}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Upvotes</h4>\n                  <span className=\"text-success\">\n                    <Icon type=\"thumbs-up\" />{' '}\n                    {guide?.reactions?.filter(\n                      _ => _.reaction === GuideReaction.Like\n                    )?.length ?? <Icon type=\"spinner fa-spin\" />}\n                  </span>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Downvotes</h4>\n                  <span className=\"text-danger\">\n                    <Icon type=\"thumbs-down\" />{' '}\n                    {guide?.reactions?.filter(\n                      _ => _.reaction === GuideReaction.Dislike\n                    )?.length ?? <Icon type=\"spinner fa-spin\" />}\n                  </span>\n                </div>\n              </div>\n            </Card>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12\">\n            <MiniJumbotron>\n              {guide ? (\n                <GuideEditor baseGuideDTO={baseGuideDTO} onSubmit={onSubmit} />\n              ) : (\n                <Icon type=\"spinner fa-spin\" />\n              )}\n            </MiniJumbotron>\n          </div>\n        </Row>\n      </Container>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}