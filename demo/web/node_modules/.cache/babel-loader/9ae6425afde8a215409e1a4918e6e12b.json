{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/laws/LawDirectory.tsx\";\nimport { uniqBy } from 'lodash';\nimport React, { useState } from 'react';\nimport { Input, Select, setURL } from '@instinct-web/core';\nimport { Row } from '../../../components/generic/row/Row';\nimport { UserLayout } from '../../../components/layout/user';\nimport { useFetchLaws } from '../../../hooks/law/fetch-laws';\nimport { Container } from '../../../components/generic/container/Container';\nimport { MiniJumbotron } from '../../../components/generic/mini-jumbotron/MiniJumbotron';\nsetURL('government/laws', /*#__PURE__*/React.createElement(LawDirectory, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 27\n  }\n}));\nexport function LawDirectory() {\n  var _laws$map;\n\n  const laws = useFetchLaws();\n  const [billNameFilter, setBillNameFilter] = useState();\n  const [billSponsorFilter, setBillSponsorFilter] = useState();\n\n  function filterByName(law) {\n    if (!billNameFilter) return true;\n    return law.id.toString().includes(billNameFilter) || law.title.toLowerCase().includes(billNameFilter) || law.description.toLowerCase().includes(billNameFilter);\n  }\n\n  function filterBySponsor(law) {\n    if (!billSponsorFilter) return true;\n    return law.user.username === billSponsorFilter;\n  }\n\n  const uniqueSponsors = uniqBy((_laws$map = laws === null || laws === void 0 ? void 0 : laws.map(_ => _.user)) !== null && _laws$map !== void 0 ? _laws$map : [], 'id').map(_ => ({\n    value: _.id,\n    label: _.username\n  }));\n  const activeFilter = !!filterByName || !!filterBySponsor;\n  const filteredBills = laws === null || laws === void 0 ? void 0 : laws.filter(filterByName).filter(filterBySponsor);\n  return /*#__PURE__*/React.createElement(UserLayout, {\n    section: \"games_ranking\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MiniJumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, \"Laws of Bobba\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }, \"Law Directory\")))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MiniJumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12 mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 19\n    }\n  }, \"Search\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 19\n    }\n  }, \"Bill Name\"), /*#__PURE__*/React.createElement(Input, {\n    value: billNameFilter !== null && billNameFilter !== void 0 ? billNameFilter : '',\n    name: \"bill_filter\",\n    placeholder: \"Search by name...\",\n    type: \"text\",\n    onChange: (key, value) => setBillNameFilter(value.toLowerCase()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 19\n    }\n  }, \"Bill Sponsor\"), /*#__PURE__*/React.createElement(Select, {\n    options: uniqueSponsors,\n    value: uniqueSponsors.find(_ => _.value === billSponsorFilter),\n    onChange: _ => setBillSponsorFilter('type', _.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }))))))));\n}","map":null,"metadata":{},"sourceType":"module"}