{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/cosmic/src/pages/auth/app-login/AppLogin.tsx\";\nimport React, { useContext, useEffect } from 'react';\nimport { useLocation, useRoute } from 'wouter';\nimport { configContext, sessionContext, sessionService, setURL, themeContext } from '@instinct-web/core';\nsetURL('login/app/:sso', /*#__PURE__*/React.createElement(PlayAppPage, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 26\n  }\n}));\nexport function PlayAppPage() {\n  const {\n    config\n  } = useContext(configContext);\n  const {\n    setStore\n  } = useContext(themeContext);\n  const [location, setLocation] = useLocation();\n  const {\n    user,\n    setUser\n  } = useContext(sessionContext);\n  const [matched, params] = useRoute('/login/app/:sso');\n  useEffect(() => {\n    setStore({\n      applicationMode: true\n    });\n\n    async function login() {\n      try {\n        const userAcc = await sessionService.attemptBearerToken(params.sso);\n        setUser(userAcc);\n      } catch {\n        setLocation('/login');\n      }\n    }\n\n    if (params === null || params === void 0 ? void 0 : params.sso) {\n      login();\n    } else {\n      setLocation('/login');\n    }\n  }, []);\n\n  if (user) {\n    setLocation('/play/flash');\n    return null;\n  }\n\n  if (!user) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"h-100 w-100 text-white\",\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        justifyContent: 'center',\n        alignItems: 'center',\n        display: 'flex'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-spin fa-spinner fa-5x\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"text-uppercase mt-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }, \"Logging In To \", config.siteName)));\n  }\n\n  return null;\n}","map":null,"metadata":{},"sourceType":"module"}