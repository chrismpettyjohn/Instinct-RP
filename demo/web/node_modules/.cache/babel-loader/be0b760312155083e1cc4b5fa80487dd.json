{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Link,useLocation}from'wouter';import{toast}from'react-toastify';import{setURL}from'@instinct-web/core';import{Icon}from'../../../components/generic/icon/Icon';import{Card}from'../../../components/generic/card/Card';import{Row}from'../../../components/generic/row/Row';import{EditPoliticalParty}from'./edit-party/EditParty';import{UserLayout}from'../../../components/layout/user';import{politicalPartyService}from'../../../services/political-party';import{Container}from'../../../components/generic/container/Container';import{MiniJumbotron}from'../../../components/generic/mini-jumbotron/MiniJumbotron';setURL('government/parties/create',/*#__PURE__*/React.createElement(PartyCreator,null));export function PartyCreator(){var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(politicalPartyDTO){var newPoliticalParty;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return politicalPartyService.create(politicalPartyDTO);case 2:newPoliticalParty=_context.sent;toast.success(\"\".concat(politicalPartyDTO.name,\" has successfully been registered\"));setLocation(\"/government/parties/view/\".concat(newPoliticalParty.id));case 5:case\"end\":return _context.stop();}}},_callee);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(UserLayout,{section:\"games_ranking\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(Link,{to:\"/government/parties\"},/*#__PURE__*/React.createElement(Icon,{className:\"fa-4x text-white\",style:{cursor:'pointer'},type:\"caret-left\"})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(MiniJumbotron,null,/*#__PURE__*/React.createElement(\"h1\",null,\"Political Party Registration Form\"),/*#__PURE__*/React.createElement(\"p\",null,\"This form is required under Section (x) of the Elections Act, 2021.\")))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(EditPoliticalParty,{onSubmit:onSubmit}))))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/parties/PartyCreator.tsx"],"names":["React","Link","useLocation","toast","setURL","Icon","Card","Row","EditPoliticalParty","UserLayout","politicalPartyService","Container","MiniJumbotron","PartyCreator","location","setLocation","onSubmit","politicalPartyDTO","create","newPoliticalParty","success","name","id","cursor"],"mappings":"4bAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,IAAR,CAAcC,WAAd,KAAgC,QAAhC,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,OAAQC,MAAR,KAAqB,oBAArB,CACA,OAAQC,IAAR,KAAmB,uCAAnB,CACA,OAAQC,IAAR,KAAmB,uCAAnB,CACA,OAAQC,GAAR,KAAkB,qCAAlB,CACA,OAAQC,kBAAR,KAAiC,wBAAjC,CACA,OAAQC,UAAR,KAAyB,iCAAzB,CAEA,OAAQC,qBAAR,KAAoC,mCAApC,CACA,OAAQC,SAAR,KAAwB,iDAAxB,CACA,OAAQC,aAAR,KAA4B,0DAA5B,CAEAR,MAAM,CAAC,2BAAD,cAA8B,oBAAC,YAAD,MAA9B,CAAN,CAEA,MAAO,SAASS,CAAAA,YAAT,EAAwB,CAC7B,iBAAgCX,WAAW,EAA3C,8CAAOY,QAAP,kBAAiBC,WAAjB,kBAD6B,QAGdC,CAAAA,QAHc,oIAG7B,iBAAwBC,iBAAxB,8JACkCP,CAAAA,qBAAqB,CAACQ,MAAtB,CAC9BD,iBAD8B,CADlC,QACQE,iBADR,eAIEhB,KAAK,CAACiB,OAAN,WAAiBH,iBAAiB,CAACI,IAAnC,uCACAN,WAAW,oCAA6BI,iBAAiB,CAACG,EAA/C,EAAX,CALF,sDAH6B,2CAW7B,mBACE,oBAAC,UAAD,EAAY,OAAO,CAAC,eAApB,eACE,oBAAC,SAAD,mBACE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,IAAD,EAAM,EAAE,CAAC,qBAAT,eACE,oBAAC,IAAD,EACE,SAAS,CAAC,kBADZ,CAEE,KAAK,CAAE,CAACC,MAAM,CAAE,SAAT,CAFT,CAGE,IAAI,CAAC,YAHP,EADF,CADF,CADF,CADF,cAYE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,aAAD,mBACE,kEADF,cAEE,mGAFF,CADF,CADF,CAZF,cAuBE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,IAAD,mBACE,oBAAC,kBAAD,EAAoB,QAAQ,CAAEP,QAA9B,EADF,CADF,CADF,CAvBF,CADF,CADF,CAmCD","sourcesContent":["import React from 'react';\nimport {Link, useLocation} from 'wouter';\nimport {toast} from 'react-toastify';\nimport {setURL} from '@instinct-web/core';\nimport {Icon} from '../../../components/generic/icon/Icon';\nimport {Card} from '../../../components/generic/card/Card';\nimport {Row} from '../../../components/generic/row/Row';\nimport {EditPoliticalParty} from './edit-party/EditParty';\nimport {UserLayout} from '../../../components/layout/user';\nimport {PoliticalPartyDTO} from '@instinct-plugin/roleplay-types';\nimport {politicalPartyService} from '../../../services/political-party';\nimport {Container} from '../../../components/generic/container/Container';\nimport {MiniJumbotron} from '../../../components/generic/mini-jumbotron/MiniJumbotron';\n\nsetURL('government/parties/create', <PartyCreator />);\n\nexport function PartyCreator() {\n  const [location, setLocation] = useLocation();\n\n  async function onSubmit(politicalPartyDTO: PoliticalPartyDTO) {\n    const newPoliticalParty = await politicalPartyService.create(\n      politicalPartyDTO\n    );\n    toast.success(`${politicalPartyDTO.name} has successfully been registered`);\n    setLocation(`/government/parties/view/${newPoliticalParty.id}`);\n  }\n\n  return (\n    <UserLayout section=\"games_ranking\">\n      <Container>\n        <Row>\n          <div className=\"col-12\">\n            <Link to=\"/government/parties\">\n              <Icon\n                className=\"fa-4x text-white\"\n                style={{cursor: 'pointer'}}\n                type=\"caret-left\"\n              />\n            </Link>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12\">\n            <MiniJumbotron>\n              <h1>Political Party Registration Form</h1>\n              <p>\n                This form is required under Section (x) of the Elections Act,\n                2021.\n              </p>\n            </MiniJumbotron>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12\">\n            <Card>\n              <EditPoliticalParty onSubmit={onSubmit} />\n            </Card>\n          </div>\n        </Row>\n      </Container>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}