{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Draggable from'react-draggable';import React,{useContext,useState}from'react';import{webSocketContext}from'../../context/web-socket';import{useWebSocketEventListener}from'../../hooks/web-socket';import{Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';export function GangDisbandWidget(){var _useContext=useContext(webSocketContext),sendEvent=_useContext.sendEvent;var _useState=useState(),_useState2=_slicedToArray(_useState,2),gang=_useState2[0],setGang=_useState2[1];useWebSocketEventListener('gang_disband_confirmation',onDisbandReceived);function onDisbandReceived(data){setGang(data);}function onDecision(_x){return _onDecision.apply(this,arguments);}function _onDecision(){_onDecision=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(disband){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(disband){sendEvent('gang_disband_confirm',{});}setGang(undefined);case 2:case\"end\":return _context.stop();}}},_callee);}));return _onDecision.apply(this,arguments);}if(!gang){return null;}return/*#__PURE__*/React.createElement(Draggable,null,/*#__PURE__*/React.createElement(Modal,{backdrop:false,fade:false,isOpen:true},/*#__PURE__*/React.createElement(ModalHeader,null,\"Are you sure?\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"job-offer-widget\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"h3\",null,\"You are about to delete your gang,\"),/*#__PURE__*/React.createElement(\"h2\",null,gang.gang_name),/*#__PURE__*/React.createElement(\"img\",{className:\"business-logo\",src:\"/img/corps/\".concat(gang.gang_badge,\".gif\")}))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2 mr-3\",style:{cursor:'pointer'},onClick:function onClick(){return onDecision(false);}},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-danger ml-2\",onClick:function onClick(){return onDecision(true);}},\"Yes, I want to delete.\")))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/widgets/gang/GangDisband.tsx"],"names":["Draggable","React","useContext","useState","webSocketContext","useWebSocketEventListener","Modal","ModalBody","ModalFooter","ModalHeader","GangDisbandWidget","sendEvent","gang","setGang","onDisbandReceived","data","onDecision","disband","undefined","gang_name","gang_badge","cursor"],"mappings":"4bAAA,MAAOA,CAAAA,SAAP,KAAsB,iBAAtB,CACA,MAAOC,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,gBAAR,KAA+B,0BAA/B,CACA,OAAQC,yBAAR,KAAwC,wBAAxC,CACA,OAAQC,KAAR,CAAeC,SAAf,CAA0BC,WAA1B,CAAuCC,WAAvC,KAAyD,YAAzD,CAGA,MAAO,SAASC,CAAAA,iBAAT,EAA6B,CAClC,gBAAoBR,UAAU,CAACE,gBAAD,CAA9B,CAAOO,SAAP,aAAOA,SAAP,CACA,cACER,QAAQ,EADV,wCAAOS,IAAP,eAAaC,OAAb,eAEAR,yBAAyB,CAAC,2BAAD,CAA8BS,iBAA9B,CAAzB,CAEA,QAASA,CAAAA,iBAAT,CACEC,IADF,CAEE,CACAF,OAAO,CAACE,IAAD,CAAP,CACD,CAViC,QAYnBC,CAAAA,UAZmB,0IAYlC,iBAA0BC,OAA1B,kHACE,GAAIA,OAAJ,CAAa,CACXN,SAAS,CAAC,sBAAD,CAAyB,EAAzB,CAAT,CACD,CAEDE,OAAO,CAACK,SAAD,CAAP,CALF,sDAZkC,6CAoBlC,GAAI,CAACN,IAAL,CAAW,CACT,MAAO,KAAP,CACD,CAED,mBACE,oBAAC,SAAD,mBACE,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAjB,CAAwB,IAAI,CAAE,KAA9B,CAAqC,MAAM,KAA3C,eACE,oBAAC,WAAD,sBADF,cAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,kBAArB,eACE,2BAAK,SAAS,CAAC,aAAf,eACE,mEADF,cAEE,8BAAKA,IAAI,CAACO,SAAV,CAFF,cAGE,2BACE,SAAS,CAAC,eADZ,CAEE,GAAG,sBAAgBP,IAAI,CAACQ,UAArB,QAFL,EAHF,CADF,CAFF,cAYE,oBAAC,WAAD,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,2BACE,SAAS,CAAC,WADZ,CAEE,KAAK,CAAE,CAACC,MAAM,CAAE,SAAT,CAFT,CAGE,OAAO,CAAE,yBAAML,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAHX,WADF,cAQE,8BACE,SAAS,CAAC,6BADZ,CAEE,OAAO,CAAE,yBAAMA,CAAAA,UAAU,CAAC,IAAD,CAAhB,EAFX,2BARF,CADF,CAZF,CADF,CADF,CAkCD","sourcesContent":["import Draggable from 'react-draggable';\nimport React, {useContext, useState} from 'react';\nimport {webSocketContext} from '../../context/web-socket';\nimport {useWebSocketEventListener} from '../../hooks/web-socket';\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\nimport {WebSocketIncomingGangDisbandConfirmationEvent} from '@instinct-plugin/roleplay-types';\n\nexport function GangDisbandWidget() {\n  const {sendEvent} = useContext(webSocketContext);\n  const [gang, setGang] =\n    useState<WebSocketIncomingGangDisbandConfirmationEvent>();\n  useWebSocketEventListener('gang_disband_confirmation', onDisbandReceived);\n\n  function onDisbandReceived(\n    data: WebSocketIncomingGangDisbandConfirmationEvent\n  ) {\n    setGang(data);\n  }\n\n  async function onDecision(disband: boolean) {\n    if (disband) {\n      sendEvent('gang_disband_confirm', {});\n    }\n\n    setGang(undefined);\n  }\n\n  if (!gang) {\n    return null;\n  }\n\n  return (\n    <Draggable>\n      <Modal backdrop={false} fade={false} isOpen>\n        <ModalHeader>Are you sure?</ModalHeader>\n        <ModalBody className=\"job-offer-widget\">\n          <div className=\"text-center\">\n            <h3>You are about to delete your gang,</h3>\n            <h2>{gang.gang_name}</h2>\n            <img\n              className=\"business-logo\"\n              src={`/img/corps/${gang.gang_badge}.gif`}\n            />\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <div className=\"row text-right\">\n            <div\n              className=\"mt-2 mr-3\"\n              style={{cursor: 'pointer'}}\n              onClick={() => onDecision(false)}\n            >\n              Cancel\n            </div>\n            <button\n              className=\"btn btn-outline-danger ml-2\"\n              onClick={() => onDecision(true)}\n            >\n              Yes, I want to delete.\n            </button>\n          </div>\n        </ModalFooter>\n      </Modal>\n    </Draggable>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}