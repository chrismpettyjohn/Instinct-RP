{"ast":null,"code":"import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{Row}from'../../components/generic/row/Row';import{UserLayout}from'../../components/layout/user';import{setURL,configContext,Icon,Input}from'@instinct-web/core';import{Container}from'../../components/generic/container/Container';import{MiniJumbotron}from'../../components/generic/mini-jumbotron/MiniJumbotron';import{Link}from'wouter';import{RPPermissionGuard}from'../../components/templates/permission-guard';import{useFetchAllGuides}from'../../hooks/guide/use-fetch-all-guides';import{GuideCard}from'../../components/templates/guide-card/GuideCard';setURL('guides',/*#__PURE__*/React.createElement(GuideDirectory,null));export function GuideDirectory(){var _useContext=useContext(configContext),config=_useContext.config;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),guideNameFilter=_useState2[0],setGuideNameFilter=_useState2[1];var guides=useFetchAllGuides();var filteredGuides=guides===null||guides===void 0?void 0:guides.filter(function(_){return _.name.toLowerCase().includes(guideNameFilter);});return/*#__PURE__*/React.createElement(UserLayout,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(MiniJumbotron,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"h1\",null,config.siteName,\" Guides\"),/*#__PURE__*/React.createElement(\"p\",null,\"Read guides posted by other users like yourself!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},/*#__PURE__*/React.createElement(RPPermissionGuard,{permission:\"websiteCreateGuides\",redirect:false},/*#__PURE__*/React.createElement(Link,{to:\"/guides/create\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success btn-lg\"},/*#__PURE__*/React.createElement(Icon,{type:\"plus-circle\"}),\"Create\")))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(MiniJumbotron,null,/*#__PURE__*/React.createElement(Input,{value:guideNameFilter!==null&&guideNameFilter!==void 0?guideNameFilter:'',name:\"guide_filter\",placeholder:\"Search by guide...\",type:\"text\",onChange:function onChange(key,value){return setGuideNameFilter(value.toLowerCase());}})))),/*#__PURE__*/React.createElement(Row,null,filteredGuides===null||filteredGuides===void 0?void 0:filteredGuides.map(function(_){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\",key:\"guide_\".concat(_.id)},/*#__PURE__*/React.createElement(GuideCard,{guide:_}));}))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/guides/GuideDirectory.tsx"],"names":["React","useContext","useState","Row","UserLayout","setURL","configContext","Icon","Input","Container","MiniJumbotron","Link","RPPermissionGuard","useFetchAllGuides","GuideCard","GuideDirectory","config","guideNameFilter","setGuideNameFilter","guides","filteredGuides","filter","_","name","toLowerCase","includes","siteName","key","value","map","id"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,GAAR,KAAkB,kCAAlB,CACA,OAAQC,UAAR,KAAyB,8BAAzB,CACA,OAAQC,MAAR,CAAgBC,aAAhB,CAA+BC,IAA/B,CAAqCC,KAArC,KAAiD,oBAAjD,CACA,OAAQC,SAAR,KAAwB,8CAAxB,CACA,OAAQC,aAAR,KAA4B,uDAA5B,CACA,OAAQC,IAAR,KAAmB,QAAnB,CACA,OAAQC,iBAAR,KAAgC,6CAAhC,CACA,OAAQC,iBAAR,KAAgC,wCAAhC,CACA,OAAQC,SAAR,KAAwB,iDAAxB,CAEAT,MAAM,CAAC,QAAD,cAAW,oBAAC,cAAD,MAAX,CAAN,CAEA,MAAO,SAASU,CAAAA,cAAT,EAA0B,CAC/B,gBAAiBd,UAAU,CAACK,aAAD,CAA3B,CAAOU,MAAP,aAAOA,MAAP,CACA,cAA8Cd,QAAQ,CAAC,EAAD,CAAtD,wCAAOe,eAAP,eAAwBC,kBAAxB,eAEA,GAAMC,CAAAA,MAAM,CAAGN,iBAAiB,EAAhC,CAEA,GAAMO,CAAAA,cAAc,CAAGD,MAAH,SAAGA,MAAH,iBAAGA,MAAM,CAAEE,MAAR,CAAe,SAAAC,CAAC,QACrCA,CAAAA,CAAC,CAACC,IAAF,CAAOC,WAAP,GAAqBC,QAArB,CAA8BR,eAA9B,CADqC,EAAhB,CAAvB,CAIA,mBACE,oBAAC,UAAD,mBACE,oBAAC,SAAD,mBACE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,aAAD,mBACE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,OAAf,eACE,8BAAKD,MAAM,CAACU,QAAZ,WADF,cAEE,gFAFF,CADF,cAKE,2BAAK,SAAS,CAAC,kBAAf,eACE,oBAAC,iBAAD,EACE,UAAU,CAAC,qBADb,CAEE,QAAQ,CAAE,KAFZ,eAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,gBAAT,eACE,8BAAQ,SAAS,CAAC,wBAAlB,eACE,oBAAC,IAAD,EAAM,IAAI,CAAC,aAAX,EADF,UADF,CAJF,CADF,CALF,CADF,CADF,CADF,CADF,cA0BE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,aAAD,mBACE,oBAAC,KAAD,EACE,KAAK,CAAET,eAAF,SAAEA,eAAF,UAAEA,eAAF,CAAqB,EAD5B,CAEE,IAAI,CAAC,cAFP,CAGE,WAAW,CAAC,oBAHd,CAIE,IAAI,CAAC,MAJP,CAKE,QAAQ,CAAE,kBAACU,GAAD,CAAMC,KAAN,QACRV,CAAAA,kBAAkB,CAACU,KAAK,CAACJ,WAAN,EAAD,CADV,EALZ,EADF,CADF,CADF,CA1BF,cAyCE,oBAAC,GAAD,MACGJ,cADH,SACGA,cADH,iBACGA,cAAc,CAAES,GAAhB,CAAoB,SAAAP,CAAC,qBACpB,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,iBAAWA,CAAC,CAACQ,EAAb,CAA1B,eACE,oBAAC,SAAD,EAAW,KAAK,CAAER,CAAlB,EADF,CADoB,EAArB,CADH,CAzCF,CADF,CADF,CAqDD","sourcesContent":["import React, {useContext, useState} from 'react';\nimport {Row} from '../../components/generic/row/Row';\nimport {UserLayout} from '../../components/layout/user';\nimport {setURL, configContext, Icon, Input} from '@instinct-web/core';\nimport {Container} from '../../components/generic/container/Container';\nimport {MiniJumbotron} from '../../components/generic/mini-jumbotron/MiniJumbotron';\nimport {Link} from 'wouter';\nimport {RPPermissionGuard} from '../../components/templates/permission-guard';\nimport {useFetchAllGuides} from '../../hooks/guide/use-fetch-all-guides';\nimport {GuideCard} from '../../components/templates/guide-card/GuideCard';\n\nsetURL('guides', <GuideDirectory />);\n\nexport function GuideDirectory() {\n  const {config} = useContext(configContext);\n  const [guideNameFilter, setGuideNameFilter] = useState('');\n\n  const guides = useFetchAllGuides();\n\n  const filteredGuides = guides?.filter(_ =>\n    _.name.toLowerCase().includes(guideNameFilter)\n  );\n\n  return (\n    <UserLayout>\n      <Container>\n        <Row>\n          <div className=\"col-12\">\n            <MiniJumbotron>\n              <Row>\n                <div className=\"col-6\">\n                  <h1>{config.siteName} Guides</h1>\n                  <p>Read guides posted by other users like yourself!</p>\n                </div>\n                <div className=\"col-6 text-right\">\n                  <RPPermissionGuard\n                    permission=\"websiteCreateGuides\"\n                    redirect={false}\n                  >\n                    <Link to=\"/guides/create\">\n                      <button className=\"btn btn-success btn-lg\">\n                        <Icon type=\"plus-circle\" />\n                        Create\n                      </button>\n                    </Link>\n                  </RPPermissionGuard>\n                </div>\n              </Row>\n            </MiniJumbotron>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12\">\n            <MiniJumbotron>\n              <Input\n                value={guideNameFilter ?? ''}\n                name=\"guide_filter\"\n                placeholder=\"Search by guide...\"\n                type=\"text\"\n                onChange={(key, value) =>\n                  setGuideNameFilter(value.toLowerCase())\n                }\n              />\n            </MiniJumbotron>\n          </div>\n        </Row>\n        <Row>\n          {filteredGuides?.map(_ => (\n            <div className=\"col-6\" key={`guide_${_.id}`}>\n              <GuideCard guide={_} />\n            </div>\n          ))}\n        </Row>\n      </Container>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}