{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Moment from'moment';import{Avatar,photoService}from'@instinct-web/core';import React,{useEffect,useState}from'react';import{defaultPhotosState}from'./';import{Row}from'../../../components/generic/row/Row';import{UserLayout}from'../../../components/layout/user';import{Card}from'../../../components/generic/card/Card';import{Container}from'../../../components/generic/container/Container';import{Loading,setURL}from'@instinct-web/core';setURL('community/photos',/*#__PURE__*/React.createElement(Photos,null));export function Photos(){var _useState=useState(defaultPhotosState),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];useEffect(function(){function fetchPhotos(){return _fetchPhotos.apply(this,arguments);}function _fetchPhotos(){_fetchPhotos=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var photos;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return photoService.getAll();case 2:photos=_context.sent;setState({photos:photos,showSpinner:false});case 4:case\"end\":return _context.stop();}}},_callee);}));return _fetchPhotos.apply(this,arguments);}fetchPhotos();},[]);return/*#__PURE__*/React.createElement(UserLayout,{section:\"community_photos\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Photos\"),/*#__PURE__*/React.createElement(\"p\",null,\"Pictures captured by our users around the world\"))),/*#__PURE__*/React.createElement(Loading,{isLoading:state.showSpinner},state.photos.length===0&&/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Hmmm...\"),/*#__PURE__*/React.createElement(\"p\",null,\"It looks like there aren't any pictures. Maybe you could be the first!\")))),/*#__PURE__*/React.createElement(Row,null,state.photos.map(function(photo){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\",key:\"photo_\".concat(photo.id)},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"img\",{src:photo.imagePath,style:{width:'100%',height:300}})),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Avatar,{look:photo.user.figure,headOnly:true}),/*#__PURE__*/React.createElement(\"b\",null,photo.user.username)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},Moment.unix(photo.createdAt).format('MM/DD/YY'))))));})))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/community/photos/Photos.tsx"],"names":["Moment","Avatar","photoService","React","useEffect","useState","defaultPhotosState","Row","UserLayout","Card","Container","Loading","setURL","Photos","state","setState","fetchPhotos","getAll","photos","showSpinner","length","map","photo","id","imagePath","width","height","user","figure","username","unix","createdAt","format"],"mappings":"4bAAA,MAAOA,CAAAA,MAAP,KAAmB,QAAnB,CAEA,OAAQC,MAAR,CAAgBC,YAAhB,KAAmC,oBAAnC,CACA,MAAOC,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,OAAQC,kBAAR,KAA8C,IAA9C,CACA,OAAQC,GAAR,KAAkB,qCAAlB,CACA,OAAQC,UAAR,KAAyB,iCAAzB,CACA,OAAQC,IAAR,KAAmB,uCAAnB,CACA,OAAQC,SAAR,KAAwB,iDAAxB,CAIA,OAAQC,OAAR,CAAiBC,MAAjB,KAA8B,oBAA9B,CAEAA,MAAM,CAAC,kBAAD,cAAqB,oBAAC,MAAD,MAArB,CAAN,CAEA,MAAO,SAASC,CAAAA,MAAT,EAAkB,CACvB,cAA0BR,QAAQ,CAAcC,kBAAd,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eAEAX,SAAS,CAAC,UAAM,SACCY,CAAAA,WADD,2IACd,oKACgCd,CAAAA,YAAY,CAACe,MAAb,EADhC,QACQC,MADR,eAEEH,QAAQ,CAAC,CACPG,MAAM,CAANA,MADO,CAEPC,WAAW,CAAE,KAFN,CAAD,CAAR,CAFF,sDADc,8CAQdH,WAAW,GACZ,CATQ,CASN,EATM,CAAT,CAWA,mBACE,oBAAC,UAAD,EAAY,OAAO,CAAC,kBAApB,eACE,oBAAC,SAAD,mBACE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,uCADF,cAEE,+EAFF,CADF,CADF,cAOE,oBAAC,OAAD,EAAS,SAAS,CAAEF,KAAK,CAACK,WAA1B,EACGL,KAAK,CAACI,MAAN,CAAaE,MAAb,GAAwB,CAAxB,eACC,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,oBAAC,IAAD,mBACE,wCADF,cAEE,sGAFF,CADF,CADF,CAFJ,cAcE,oBAAC,GAAD,MACGN,KAAK,CAACI,MAAN,CAAaG,GAAb,CAAiB,SAAAC,KAAK,qBACrB,2BAAK,SAAS,CAAC,YAAf,CAA4B,GAAG,iBAAWA,KAAK,CAACC,EAAjB,CAA/B,eACE,oBAAC,IAAD,mBACE,2BAAK,SAAS,CAAC,QAAf,eACE,2BACE,GAAG,CAAED,KAAK,CAACE,SADb,CAEE,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAAgBC,MAAM,CAAE,GAAxB,CAFT,EADF,CADF,cAOE,8BAPF,cAQE,oBAAC,GAAD,mBACE,2BAAK,SAAS,CAAC,OAAf,eACE,oBAAC,MAAD,EAAQ,IAAI,CAAEJ,KAAK,CAACK,IAAN,CAAYC,MAA1B,CAAkC,QAAQ,KAA1C,EADF,cAEE,6BAAIN,KAAK,CAACK,IAAN,CAAYE,QAAhB,CAFF,CADF,cAKE,2BAAK,SAAS,CAAC,kBAAf,eACE,2BAAK,SAAS,CAAC,MAAf,EACG7B,MAAM,CAAC8B,IAAP,CAAYR,KAAK,CAACS,SAAlB,EAA6BC,MAA7B,CAAoC,UAApC,CADH,CADF,CALF,CARF,CADF,CADqB,EAAtB,CADH,CAdF,CAPF,CADF,CADF,CAqDD","sourcesContent":["import Moment from 'moment';\nimport {Photo} from '@instinct-prj/interface';\nimport {Avatar, photoService} from '@instinct-web/core';\nimport React, {useEffect, useState} from 'react';\nimport {defaultPhotosState, PhotosState} from './';\nimport {Row} from '../../../components/generic/row/Row';\nimport {UserLayout} from '../../../components/layout/user';\nimport {Card} from '../../../components/generic/card/Card';\nimport {Container} from '../../../components/generic/container/Container';\nimport {Jumbotron} from '../../../components/generic/jumbotron/Jumbotron';\nimport {PhotoContainer} from '../../../components/templates/photo-container/PhotoContainer';\n\nimport {Loading, setURL} from '@instinct-web/core';\n\nsetURL('community/photos', <Photos />);\n\nexport function Photos() {\n  const [state, setState] = useState<PhotosState>(defaultPhotosState);\n\n  useEffect(() => {\n    async function fetchPhotos(): Promise<void> {\n      const photos: Photo[] = await photoService.getAll();\n      setState({\n        photos,\n        showSpinner: false,\n      });\n    }\n    fetchPhotos();\n  }, []);\n\n  return (\n    <UserLayout section=\"community_photos\">\n      <Container>\n        <Row>\n          <div className=\"col-12\">\n            <h1>Photos</h1>\n            <p>Pictures captured by our users around the world</p>\n          </div>\n        </Row>\n        <Loading isLoading={state.showSpinner}>\n          {state.photos.length === 0 && (\n            <Row>\n              <div className=\"col-12\">\n                <Card>\n                  <h3>Hmmm...</h3>\n                  <p>\n                    It looks like there aren't any pictures. Maybe you could be the\n                    first!\n                  </p>\n                </Card>\n              </div>\n            </Row>\n          )}\n          <Row>\n            {state.photos.map(photo => (\n              <div className=\"col-4 mb-4\" key={`photo_${photo.id}`}>\n                <Card>\n                  <div className=\"col-12\">\n                    <img\n                      src={photo.imagePath}\n                      style={{width: '100%', height: 300}}\n                    />\n                  </div>\n                  <hr />\n                  <Row>\n                    <div className=\"col-6\">\n                      <Avatar look={photo.user!.figure} headOnly />\n                      <b>{photo.user!.username}</b>\n                    </div>\n                    <div className=\"col-6 text-right\">\n                      <div className=\"mt-3\">\n                        {Moment.unix(photo.createdAt).format('MM/DD/YY')}\n                      </div>\n                    </div>\n                  </Row>\n                </Card>\n              </div>\n            ))}\n          </Row>\n        </Loading>\n      </Container>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}