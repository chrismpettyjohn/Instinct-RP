{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useLocation}from'wouter';import{toast}from'react-toastify';import{setURL}from'@instinct-web/core';import{Row}from'../../components/generic/row/Row';import{BusinessEditor}from'./editor/BusinessEditor';import{UserLayout}from'../../components/layout/user';import{businessService}from'../../services/business';import{Container}from'../../components/generic/container/Container';import{RPPermissionGuard}from'../../components/templates/permission-guard';import{MiniJumbotron}from'../../components/generic/mini-jumbotron/MiniJumbotron';setURL('business/creator',/*#__PURE__*/React.createElement(BusinessCreate,null));export function BusinessCreate(){var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];function onSubmit(_x){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(businessDTO){var business;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return businessService.create(businessDTO);case 3:business=_context.sent;setLocation(\"/businesses/\".concat(business.id));_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);toast.error('Failed to create business at this time.');case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return _onSubmit.apply(this,arguments);}return/*#__PURE__*/React.createElement(UserLayout,{section:\"business\"},/*#__PURE__*/React.createElement(RPPermissionGuard,{permission:\"websiteCreateBusiness\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(MiniJumbotron,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Business Creator\"),/*#__PURE__*/React.createElement(\"p\",null,\"Kickstart your new business today!\"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{style:{width:'100%'}},/*#__PURE__*/React.createElement(BusinessEditor,{onSubmit:onSubmit}))))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/business/BusinessCreate.tsx"],"names":["React","useLocation","toast","setURL","Row","BusinessEditor","UserLayout","businessService","Container","RPPermissionGuard","MiniJumbotron","BusinessCreate","location","setLocation","onSubmit","businessDTO","create","business","id","error","width"],"mappings":"4bAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,QAA1B,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,OAAQC,MAAR,KAAqB,oBAArB,CACA,OAAQC,GAAR,KAAkB,kCAAlB,CACA,OAAQC,cAAR,KAA6B,yBAA7B,CACA,OAAQC,UAAR,KAAyB,8BAAzB,CACA,OAAQC,eAAR,KAA8B,yBAA9B,CAEA,OAAQC,SAAR,KAAwB,8CAAxB,CACA,OAAQC,iBAAR,KAAgC,6CAAhC,CACA,OAAQC,aAAR,KAA4B,uDAA5B,CAEAP,MAAM,CAAC,kBAAD,cAAqB,oBAAC,cAAD,MAArB,CAAN,CAEA,MAAO,SAASQ,CAAAA,cAAT,EAA0B,CAC/B,iBAAgCV,WAAW,EAA3C,8CAAOW,QAAP,kBAAiBC,WAAjB,kBAD+B,QAGhBC,CAAAA,QAHgB,oIAG/B,iBAAwBC,WAAxB,qKAE2BR,CAAAA,eAAe,CAACS,MAAhB,CAAuBD,WAAvB,CAF3B,QAEUE,QAFV,eAGIJ,WAAW,uBAAgBI,QAAQ,CAACC,EAAzB,EAAX,CAHJ,+EAKIhB,KAAK,CAACiB,KAAN,CAAY,yCAAZ,EALJ,oEAH+B,2CAY/B,mBACE,oBAAC,UAAD,EAAY,OAAO,CAAC,UAApB,eACE,oBAAC,iBAAD,EAAmB,UAAU,CAAC,uBAA9B,eACE,oBAAC,SAAD,mBACE,oBAAC,GAAD,mBACE,oBAAC,aAAD,mBACE,iDADF,cAEE,kEAFF,CADF,CADF,cAOE,oBAAC,GAAD,mBACE,2BAAK,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAAZ,eACE,oBAAC,cAAD,EAAgB,QAAQ,CAAEN,QAA1B,EADF,CADF,CAPF,CADF,CADF,CADF,CAmBD","sourcesContent":["import React from 'react';\nimport {useLocation} from 'wouter';\nimport {toast} from 'react-toastify';\nimport {setURL} from '@instinct-web/core';\nimport {Row} from '../../components/generic/row/Row';\nimport {BusinessEditor} from './editor/BusinessEditor';\nimport {UserLayout} from '../../components/layout/user';\nimport {businessService} from '../../services/business';\nimport {BusinessDTO} from '@instinct-plugin/roleplay-types';\nimport {Container} from '../../components/generic/container/Container';\nimport {RPPermissionGuard} from '../../components/templates/permission-guard';\nimport {MiniJumbotron} from '../../components/generic/mini-jumbotron/MiniJumbotron';\n\nsetURL('business/creator', <BusinessCreate />);\n\nexport function BusinessCreate() {\n  const [location, setLocation] = useLocation();\n\n  async function onSubmit(businessDTO: BusinessDTO) {\n    try {\n      const business = await businessService.create(businessDTO);\n      setLocation(`/businesses/${business.id}`);\n    } catch {\n      toast.error('Failed to create business at this time.');\n    }\n  }\n\n  return (\n    <UserLayout section=\"business\">\n      <RPPermissionGuard permission=\"websiteCreateBusiness\">\n        <Container>\n          <Row>\n            <MiniJumbotron>\n              <h2>Business Creator</h2>\n              <p>Kickstart your new business today!</p>\n            </MiniJumbotron>\n          </Row>\n          <Row>\n            <div style={{width: '100%'}}>\n              <BusinessEditor onSubmit={onSubmit} />\n            </div>\n          </Row>\n        </Container>\n      </RPPermissionGuard>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}