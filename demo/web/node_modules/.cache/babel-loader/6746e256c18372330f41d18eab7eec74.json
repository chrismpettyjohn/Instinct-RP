{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/business/editor/context/BusinessEditorProvider.tsx\";\nimport React, { useState } from 'react';\nimport { businessEditorContext } from './BusinessEditor';\nimport { exampleBusinessDTO } from '@instinct-plugin/roleplay-types';\nexport function BusinessEditorProvider({\n  children,\n  defaultBusiness\n}) {\n  const [business, setBusinessState] = useState(defaultBusiness !== null && defaultBusiness !== void 0 ? defaultBusiness : exampleBusinessDTO);\n\n  function setBusiness(key, value) {\n    setBusinessState(_ => ({ ..._,\n      [key]: value\n    }));\n  }\n\n  function addPosition(position) {\n    setBusinessState(_ => ({ ..._,\n      positions: [..._.positions, position]\n    }));\n  }\n\n  function delPosition(index) {\n    setBusinessState(_ => ({ ..._,\n      positions: _.positions.filter((pos, i) => i !== index)\n    }));\n  }\n\n  function editPosition(index, key, value) {\n    setBusinessState(_ => {\n      const newPositions = [..._.positions];\n      newPositions[index][key] = value;\n      return { ..._,\n        positions: newPositions\n      };\n    });\n  }\n\n  function movePositionUp(index) {\n    if (index > 1) {\n      setBusinessState(_ => {\n        const newPositions = [..._.positions];\n        newPositions[index].order = newPositions[index].border - 1;\n        return { ..._,\n          positions: newPositions\n        };\n      });\n    }\n  }\n\n  function movePositionDown(index) {\n    if (index < business.positions.length - 1) {\n      setBusinessState(_ => {\n        const newPositions = [..._.positions];\n        newPositions[index].order = newPositions[index].order - 1;\n        return { ..._,\n          positions: newPositions\n        };\n      });\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(businessEditorContext.Provider, {\n    value: {\n      business,\n      setBusiness,\n      addPosition,\n      delPosition,\n      editPosition,\n      movePositionUp,\n      movePositionDown\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, children);\n}","map":null,"metadata":{},"sourceType":"module"}