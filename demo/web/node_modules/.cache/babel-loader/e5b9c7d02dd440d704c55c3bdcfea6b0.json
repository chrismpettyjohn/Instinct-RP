{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/home/user-profile/guestbook/create-post-modal/CreatePostModal.tsx\";\nimport { toast } from 'react-toastify';\nimport React, { useState } from 'react';\nimport { Form, guestbookService, Icon, Loading } from '@instinct-web/core';\nimport { FormGroup, Modal, ModalBody, ModalFooter, ModalHeader } from 'reactstrap';\nexport function CreatePostModal({\n  profileID,\n  onCreation\n}) {\n  const [spinner, setSpinner] = useState(false);\n  const [content, setContent] = useState('');\n  const [showModal, setModal] = useState(false);\n\n  function onToggle() {\n    setModal(_ => !_);\n  }\n\n  async function onSubmit() {\n    try {\n      setSpinner(true);\n      const newPost = await guestbookService.create(profileID, {\n        content\n      });\n      onCreation(newPost);\n      setContent('');\n      setSpinner(false);\n      setModal(false);\n      toast.info('Your comment has been posted!');\n    } catch {\n      setSpinner(false);\n      toast.error(\"There was a problem and your comment couldn't be saved\");\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-primary\",\n    onClick: onToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"plus-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }), \"Post\"), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: showModal,\n    toggle: onToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: onToggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, \"Post to Guestbook\"), /*#__PURE__*/React.createElement(Form, {\n    className: \"\",\n    disabled: spinner,\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Loading, {\n    isLoading: spinner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"What do you want to say?\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    className: \"form-control\",\n    rows: 4,\n    value: content,\n    onChange: e => setContent(e.target.value),\n    maxLength: 200,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success\",\n    disabled: spinner,\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Create\")))));\n}","map":null,"metadata":{},"sourceType":"module"}