{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import Draggable from'react-draggable';import{gangService}from'../../services/gang';import{Avatar}from'@instinct-web/core';import{useWebSocketEventListener}from'../../hooks/web-socket';import{Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';export function GangInfoWidget(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),gang=_useState2[0],setGang=_useState2[1];useWebSocketEventListener('gang_info',onInfoReceived);function onInfoReceived(_x){return _onInfoReceived.apply(this,arguments);}function _onInfoReceived(){_onInfoReceived=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var gang_id,gangData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:gang_id=_ref.gang_id;_context.next=3;return gangService.getByID(gang_id);case 3:gangData=_context.sent;setGang(gangData);case 5:case\"end\":return _context.stop();}}},_callee);}));return _onInfoReceived.apply(this,arguments);}if(!gang){return null;}return/*#__PURE__*/React.createElement(Draggable,null,/*#__PURE__*/React.createElement(Modal,{backdrop:false,fade:false,isOpen:true},/*#__PURE__*/React.createElement(ModalHeader,null,\"Gang Information\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"job-offer-widget\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"business-logo\",src:\"/img/corps/\".concat(gang.badge,\".gif\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"mt-1\"},gang.name),/*#__PURE__*/React.createElement(\"h5\",{style:{marginTop:-10}},\"Founded by \",/*#__PURE__*/React.createElement(\"b\",null,gang.owner.username)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Members\")),/*#__PURE__*/React.createElement(\"div\",{style:{maxHeight:300,overflowY:'scroll',width:'100%'}},gang.ranks.map(function(rank){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\",key:rank.id},rank.users.map(function(_){return/*#__PURE__*/React.createElement(\"div\",{className:\"member-container\",key:_.id},/*#__PURE__*/React.createElement(\"div\",{className:\"member-content flex-container flex-vertical-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"member-avatar flex-container flex-vertical-center flex-horizontal-center\",style:{overflow:'hidden'}},/*#__PURE__*/React.createElement(Avatar,{look:_.figure})),/*#__PURE__*/React.createElement(\"div\",{className:\"member-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"details-username\"},_.username),/*#__PURE__*/React.createElement(\"div\",{className:\"badge badge-danger text-white p-1\"},rank.name))));}));})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row text-right\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-danger ml-2\",onClick:function onClick(){return setGang(undefined);}},\"Close\")))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/widgets/gang/GangInfo.tsx"],"names":["React","useState","Draggable","gangService","Avatar","useWebSocketEventListener","Modal","ModalBody","ModalFooter","ModalHeader","GangInfoWidget","gang","setGang","onInfoReceived","gang_id","getByID","gangData","badge","name","marginTop","owner","username","maxHeight","overflowY","width","ranks","map","rank","id","users","_","overflow","figure","undefined"],"mappings":"4bAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,CACA,OAAQC,WAAR,KAA0B,qBAA1B,CACA,OAAQC,MAAR,KAAqB,oBAArB,CACA,OAAQC,yBAAR,KAAwC,wBAAxC,CACA,OAAQC,KAAR,CAAeC,SAAf,CAA0BC,WAA1B,CAAuCC,WAAvC,KAAyD,YAAzD,CAMA,MAAO,SAASC,CAAAA,cAAT,EAA0B,CAC/B,cAAwBT,QAAQ,EAAhC,wCAAOU,IAAP,eAAaC,OAAb,eACAP,yBAAyB,CAAC,WAAD,CAAcQ,cAAd,CAAzB,CAF+B,QAIhBA,CAAAA,cAJgB,sJAI/B,4JAA+BC,OAA/B,MAA+BA,OAA/B,uBACyBX,CAAAA,WAAW,CAACY,OAAZ,CAAoBD,OAApB,CADzB,QACQE,QADR,eAEEJ,OAAO,CAACI,QAAD,CAAP,CAFF,sDAJ+B,iDAS/B,GAAI,CAACL,IAAL,CAAW,CACT,MAAO,KAAP,CACD,CAED,mBACE,oBAAC,SAAD,mBACE,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAjB,CAAwB,IAAI,CAAE,KAA9B,CAAqC,MAAM,KAA3C,eACE,oBAAC,WAAD,yBADF,cAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,kBAArB,eACE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,OAAf,eACE,2BACE,SAAS,CAAC,eADZ,CAEE,GAAG,sBAAgBA,IAAI,CAACM,KAArB,QAFL,EADF,CADF,cAOE,2BAAK,SAAS,CAAC,QAAf,eACE,0BAAI,SAAS,CAAC,MAAd,EAAsBN,IAAI,CAACO,IAA3B,CADF,cAEE,0BAAI,KAAK,CAAE,CAACC,SAAS,CAAE,CAAC,EAAb,CAAX,6BACa,6BAAIR,IAAI,CAACS,KAAL,CAAWC,QAAf,CADb,CAFF,CAPF,CADF,cAeE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,wCADF,CADF,cAIE,2BAAK,KAAK,CAAE,CAACC,SAAS,CAAE,GAAZ,CAAiBC,SAAS,CAAE,QAA5B,CAAsCC,KAAK,CAAE,MAA7C,CAAZ,EACGb,IAAI,CAACc,KAAL,CAAWC,GAAX,CAAe,SAAAC,IAAI,qBAClB,2BAAK,SAAS,CAAC,OAAf,CAAuB,GAAG,CAAEA,IAAI,CAACC,EAAjC,EACGD,IAAI,CAACE,KAAL,CAAWH,GAAX,CAAe,SAAAI,CAAC,qBACf,2BAAK,SAAS,CAAC,kBAAf,CAAkC,GAAG,CAAEA,CAAC,CAACF,EAAzC,eACE,2BAAK,SAAS,CAAC,oDAAf,eACE,2BACE,SAAS,CAAC,0EADZ,CAEE,KAAK,CAAE,CAACG,QAAQ,CAAE,QAAX,CAFT,eAIE,oBAAC,MAAD,EAAQ,IAAI,CAAED,CAAC,CAACE,MAAhB,EAJF,CADF,cAOE,2BAAK,SAAS,CAAC,gBAAf,eACE,2BAAK,SAAS,CAAC,kBAAf,EAAmCF,CAAC,CAACT,QAArC,CADF,cAEE,2BAAK,SAAS,CAAC,mCAAf,EACGM,IAAI,CAACT,IADR,CAFF,CAPF,CADF,CADe,EAAhB,CADH,CADkB,EAAnB,CADH,CAJF,CAfF,CAFF,cA+CE,oBAAC,WAAD,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,8BACE,SAAS,CAAC,6BADZ,CAEE,OAAO,CAAE,yBAAMN,CAAAA,OAAO,CAACqB,SAAD,CAAb,EAFX,UADF,CADF,CA/CF,CADF,CADF,CA8DD","sourcesContent":["import React, {useState} from 'react';\nimport Draggable from 'react-draggable';\nimport {gangService} from '../../services/gang';\nimport {Avatar} from '@instinct-web/core';\nimport {useWebSocketEventListener} from '../../hooks/web-socket';\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\nimport {\n  Gang,\n  WebSocketIncomingGangInfoEvent,\n} from '@instinct-plugin/roleplay-types';\n\nexport function GangInfoWidget() {\n  const [gang, setGang] = useState<Gang>();\n  useWebSocketEventListener('gang_info', onInfoReceived);\n\n  async function onInfoReceived({gang_id}: WebSocketIncomingGangInfoEvent) {\n    const gangData = await gangService.getByID(gang_id);\n    setGang(gangData);\n  }\n\n  if (!gang) {\n    return null;\n  }\n\n  return (\n    <Draggable>\n      <Modal backdrop={false} fade={false} isOpen>\n        <ModalHeader>Gang Information</ModalHeader>\n        <ModalBody className=\"job-offer-widget\">\n          <div className=\"row\">\n            <div className=\"col-2\">\n              <img\n                className=\"business-logo\"\n                src={`/img/corps/${gang.badge}.gif`}\n              />\n            </div>\n            <div className=\"col-10\">\n              <h2 className=\"mt-1\">{gang.name}</h2>\n              <h5 style={{marginTop: -10}}>\n                Founded by <b>{gang.owner.username}</b>\n              </h5>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <h3>Members</h3>\n            </div>\n            <div style={{maxHeight: 300, overflowY: 'scroll', width: '100%'}}>\n              {gang.ranks.map(rank => (\n                <div className=\"col-6\" key={rank.id}>\n                  {rank.users.map(_ => (\n                    <div className=\"member-container\" key={_.id}>\n                      <div className=\"member-content flex-container flex-vertical-center\">\n                        <div\n                          className=\"member-avatar flex-container flex-vertical-center flex-horizontal-center\"\n                          style={{overflow: 'hidden'}}\n                        >\n                          <Avatar look={_.figure} />\n                        </div>\n                        <div className=\"member-details\">\n                          <div className=\"details-username\">{_.username}</div>\n                          <div className=\"badge badge-danger text-white p-1\">\n                            {rank.name}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              ))}\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <div className=\"row text-right\">\n            <button\n              className=\"btn btn-outline-danger ml-2\"\n              onClick={() => setGang(undefined)}\n            >\n              Close\n            </button>\n          </div>\n        </ModalFooter>\n      </Modal>\n    </Draggable>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}