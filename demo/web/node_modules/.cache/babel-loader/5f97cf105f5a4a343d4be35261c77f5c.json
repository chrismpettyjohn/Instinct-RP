{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/community/photos/photo-card/PhotoCard.tsx\";\nimport React, { useContext } from 'react';\nimport { Row } from '../../../../components/generic/row/Row';\nimport { Icon } from '../../../../components/generic/icon/Icon';\nimport { Card } from '../../../../components/generic/card/Card';\nimport { Avatar, photoService, sessionContext } from '@instinct-web/core';\nimport Moment from 'moment';\nimport { PhotoReaction } from '@instinct-prj/interface';\nimport { toast } from 'react-toastify';\nexport function PhotoCard({\n  photo\n}) {\n  const {\n    user\n  } = useContext(sessionContext);\n  const [likeReactions, dislikeReactions] = [photo.reactions.filter(_ => _.reaction === PhotoReaction.Like), photo.reactions.filter(_ => _.reaction === PhotoReaction.Dislike)];\n  const [alreadyLiked, alreadyDisliked] = [!!likeReactions.filter(_ => _.user.id === (user === null || user === void 0 ? void 0 : user.id)), !!dislikeReactions.filter(_ => _.user.id === (user === null || user === void 0 ? void 0 : user.id))];\n\n  async function onReact(reaction) {\n    try {\n      await photoService.reactByID(`${photo.id}`, reaction);\n      toast.success(`You ${reaction}d ${photo.user.username}'s photo`);\n    } catch (e) {\n      toast.error(`You failed to ${reaction} ${photo.user.username}'s photo`);\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-4 mb-4\",\n    key: `photo_${photo.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: 250,\n      height: 250,\n      backgroundImage: `url(${photo.imagePath})`,\n      backgroundSize: 'cover',\n      display: 'flex',\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100\",\n    style: {\n      alignSelf: 'flex-end',\n      opacity: 0.6,\n      height: 50\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-dark h-100 float-right\",\n    style: {\n      width: 120\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      position: 'absolute',\n      bottom: 0,\n      right: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: \"text-success\",\n    type: \"thumbs-up\",\n    style: {\n      opacity: alreadyLiked ? 1 : 0.8,\n      cursor: 'pointer'\n    },\n    onClick: () => onReact(PhotoReaction.Like),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), ' ', alreadyLiked, /*#__PURE__*/React.createElement(Icon, {\n    className: \"text-danger ml-4\",\n    type: \"thumbs-down\",\n    style: {\n      opacity: alreadyDisliked ? 1 : 0.8\n    },\n    onClick: () => onReact(PhotoReaction.Dislike),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }), ' ', alreadyDisliked)))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    look: photo.user.figure,\n    headOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, photo.user.username)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, Moment.unix(photo.createdAt).format('MM/DD/YY'))))));\n}","map":null,"metadata":{},"sourceType":"module"}