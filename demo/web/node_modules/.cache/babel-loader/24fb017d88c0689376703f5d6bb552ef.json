{"ast":null,"code":"import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from'react';import{webSocketContext}from'../../../context/web-socket';import{BaseError,configContext,Icon}from'@instinct-web/core';export function WebSocketError(){var _useContext=useContext(configContext),config=_useContext.config;var _useContext2=useContext(webSocketContext),retry=_useContext2.retry;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];if(!config.websocketEnabled){return null;}function retryConnection(){setSpinner(true);retry();setTimeout(function(){setSpinner(false);},1500);}return/*#__PURE__*/React.createElement(\"div\",{style:{position:'absolute',top:0,left:0,width:'100%',height:'100%',background:'black',zIndex:400}},/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:'15%'}},/*#__PURE__*/React.createElement(BaseError,{header:\"Web Socket failed to connect\"},/*#__PURE__*/React.createElement(\"p\",null,\"We could not secure a connection to our web socket server.\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-primary\",disabled:spinner,onClick:retryConnection},spinner?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Icon,{className:\"fa-spin mr-2\",type:\"spinner\"}),\"Retrying Connection\"):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Icon,{type:\"retry\"}),\"Try Again\")))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/components/templates/error/WebSocketError.tsx"],"names":["React","useContext","useState","webSocketContext","BaseError","configContext","Icon","WebSocketError","config","retry","spinner","setSpinner","websocketEnabled","retryConnection","setTimeout","position","top","left","width","height","background","zIndex","marginTop"],"mappings":"qJAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,gBAAR,KAA+B,6BAA/B,CACA,OAAQC,SAAR,CAAmBC,aAAnB,CAAkCC,IAAlC,KAA6C,oBAA7C,CAEA,MAAO,SAASC,CAAAA,cAAT,EAA0B,CAC/B,gBAAiBN,UAAU,CAACI,aAAD,CAA3B,CAAOG,MAAP,aAAOA,MAAP,CACA,iBAAgBP,UAAU,CAACE,gBAAD,CAA1B,CAAOM,KAAP,cAAOA,KAAP,CACA,cAA8BP,QAAQ,CAAC,KAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eAEA,GAAI,CAACH,MAAM,CAACI,gBAAZ,CAA8B,CAC5B,MAAO,KAAP,CACD,CAED,QAASC,CAAAA,eAAT,EAA2B,CACzBF,UAAU,CAAC,IAAD,CAAV,CACAF,KAAK,GACLK,UAAU,CAAC,UAAM,CACfH,UAAU,CAAC,KAAD,CAAV,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAED,mBACE,2BACE,KAAK,CAAE,CACLI,QAAQ,CAAE,UADL,CAELC,GAAG,CAAE,CAFA,CAGLC,IAAI,CAAE,CAHD,CAILC,KAAK,CAAE,MAJF,CAKLC,MAAM,CAAE,MALH,CAMLC,UAAU,CAAE,OANP,CAOLC,MAAM,CAAE,GAPH,CADT,eAWE,2BAAK,KAAK,CAAE,CAACC,SAAS,CAAE,KAAZ,CAAZ,eACE,oBAAC,SAAD,EAAW,MAAM,CAAC,8BAAlB,eACE,0FADF,cAEE,8BACE,SAAS,CAAC,iBADZ,CAEE,QAAQ,CAAEZ,OAFZ,CAGE,OAAO,CAAEG,eAHX,EAKGH,OAAO,cACN,qDACE,oBAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,IAAI,CAAC,SAApC,EADF,uBADM,cAMN,qDACE,oBAAC,IAAD,EAAM,IAAI,CAAC,OAAX,EADF,aAXJ,CAFF,CADF,CAXF,CADF,CAoCD","sourcesContent":["import React, {useContext, useState} from 'react';\nimport {webSocketContext} from '../../../context/web-socket';\nimport {BaseError, configContext, Icon} from '@instinct-web/core';\n\nexport function WebSocketError() {\n  const {config} = useContext(configContext);\n  const {retry} = useContext(webSocketContext);\n  const [spinner, setSpinner] = useState(false);\n\n  if (!config.websocketEnabled) {\n    return null;\n  }\n\n  function retryConnection() {\n    setSpinner(true);\n    retry();\n    setTimeout(() => {\n      setSpinner(false);\n    }, 1500);\n  }\n\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        background: 'black',\n        zIndex: 400,\n      }}\n    >\n      <div style={{marginTop: '15%'}}>\n        <BaseError header=\"Web Socket failed to connect\">\n          <p>We could not secure a connection to our web socket server.</p>\n          <button\n            className=\"btn btn-primary\"\n            disabled={spinner}\n            onClick={retryConnection}\n          >\n            {spinner ? (\n              <>\n                <Icon className=\"fa-spin mr-2\" type=\"spinner\" />\n                Retrying Connection\n              </>\n            ) : (\n              <>\n                <Icon type=\"retry\" />\n                Try Again\n              </>\n            )}\n          </button>\n        </BaseError>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}