{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/parties/PartyDirectory.tsx\";\nimport { Link } from 'wouter';\nimport React, { useContext, useState } from 'react';\nimport { Row } from '../../../components/generic/row/Row';\nimport { UserLayout } from '../../../components/layout/user';\nimport { Icon, Input, sessionContext, setURL } from '@instinct-web/core';\nimport { Container } from '../../../components/generic/container/Container';\nimport { RPPermissionGuard } from '../../../components/templates/permission-guard';\nimport { MiniJumbotron } from '../../../components/generic/mini-jumbotron/MiniJumbotron';\nimport { useFetchPoliticalParties } from '../../../hooks/political-party/fetch-political-parties';\nimport { PoliticalPartyCard } from '../../../components/templates/political-party-card/PoliticalPartyCard';\nsetURL('government/parties', /*#__PURE__*/React.createElement(PartyDirectory, {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 30\n  }\n}));\nexport function PartyDirectory() {\n  const {\n    user\n  } = useContext(sessionContext);\n  const politicalParties = useFetchPoliticalParties();\n  const [partyNameFilter, setPartyNameFilter] = useState('');\n  const filteredParties = politicalParties === null || politicalParties === void 0 ? void 0 : politicalParties.filter(_ => _.name.toLowerCase().includes(partyNameFilter));\n  const ownedPoliticalParties = politicalParties === null || politicalParties === void 0 ? void 0 : politicalParties.filter(_ => _.founder.id === user.id);\n  return /*#__PURE__*/React.createElement(UserLayout, {\n    section: \"games_ranking\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MiniJumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 19\n    }\n  }, \"Political Parties\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 19\n    }\n  }, \"Check out all these cults\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6 text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, (ownedPoliticalParties === null || ownedPoliticalParties === void 0 ? void 0 : ownedPoliticalParties.length) === 0 && /*#__PURE__*/React.createElement(RPPermissionGuard, {\n    permission: \"websiteRegisterPoliticalParty\",\n    redirect: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/government/parties/create\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-success btn-lg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"plus-circle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 27\n    }\n  }), \"Register Party\")))))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(MiniJumbotron, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    value: partyNameFilter !== null && partyNameFilter !== void 0 ? partyNameFilter : '',\n    name: \"party_filter\",\n    placeholder: \"Search by party...\",\n    type: \"text\",\n    onChange: (key, value) => setPartyNameFilter(value.toLowerCase()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, filteredParties === null || filteredParties === void 0 ? void 0 : filteredParties.map(politicalParty => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    key: `political_party_${politicalParty.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(PoliticalPartyCard, {\n    politicalParty: politicalParty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }))))));\n}","map":null,"metadata":{},"sourceType":"module"}