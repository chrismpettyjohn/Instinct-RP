{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import{backendAPI}from'../../api';var ForumServiceImplementation=/*#__PURE__*/function(){function ForumServiceImplementation(){_classCallCheck(this,ForumServiceImplementation);}_createClass(ForumServiceImplementation,[{key:\"createSection\",value:function(){var _createSection=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(newSectionDTO,sectionID){var newSection;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return backendAPI.post(\"forum/sections\".concat(sectionID?'/'+sectionID:''),newSectionDTO);case 2:newSection=_context.sent;return _context.abrupt(\"return\",newSection.data);case 4:case\"end\":return _context.stop();}}},_callee);}));function createSection(_x,_x2){return _createSection.apply(this,arguments);}return createSection;}()},{key:\"getSections\",value:function(){var _getSections=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(parentSection){var sections;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return backendAPI.get(\"forum/sections\".concat(parentSection>-1?'/'+parentSection:''));case 2:sections=_context2.sent;return _context2.abrupt(\"return\",sections.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function getSections(_x3){return _getSections.apply(this,arguments);}return getSections;}()},{key:\"getSectionByID\",value:function(){var _getSectionByID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(sectionID){var sections;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return backendAPI.get(\"forum/sections/\".concat(sectionID));case 2:sections=_context3.sent;return _context3.abrupt(\"return\",sections.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));function getSectionByID(_x4){return _getSectionByID.apply(this,arguments);}return getSectionByID;}()},{key:\"updateSection\",value:function(){var _updateSection=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(sectionID,updateSectionDTO){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return backendAPI.post(\"forum/sections/\".concat(sectionID),updateSectionDTO);case 2:case\"end\":return _context4.stop();}}},_callee4);}));function updateSection(_x5,_x6){return _updateSection.apply(this,arguments);}return updateSection;}()},{key:\"deleteSection\",value:function(){var _deleteSection=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(sectionID){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return backendAPI.delete(\"forum/sections/\".concat(sectionID));case 2:case\"end\":return _context5.stop();}}},_callee5);}));function deleteSection(_x7){return _deleteSection.apply(this,arguments);}return deleteSection;}()},{key:\"createPost\",value:function(){var _createPost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(sectionID,newPostDTO){var newSection;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return backendAPI.post(\"forum/sections/\".concat(sectionID,\"/posts\"),newPostDTO);case 2:newSection=_context6.sent;return _context6.abrupt(\"return\",newSection.data);case 4:case\"end\":return _context6.stop();}}},_callee6);}));function createPost(_x8,_x9){return _createPost.apply(this,arguments);}return createPost;}()},{key:\"getPosts\",value:function(){var _getPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(parentSection){var sections;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return backendAPI.get(\"forum/sections/\".concat(parentSection,\"/posts\"));case 2:sections=_context7.sent;return _context7.abrupt(\"return\",sections.data);case 4:case\"end\":return _context7.stop();}}},_callee7);}));function getPosts(_x10){return _getPosts.apply(this,arguments);}return getPosts;}()},{key:\"getPostByID\",value:function(){var _getPostByID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(parentSection,postID){var sections;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return backendAPI.get(\"forum/sections/\".concat(parentSection,\"/posts/\").concat(postID));case 2:sections=_context8.sent;return _context8.abrupt(\"return\",sections.data);case 4:case\"end\":return _context8.stop();}}},_callee8);}));function getPostByID(_x11,_x12){return _getPostByID.apply(this,arguments);}return getPostByID;}()},{key:\"updatePost\",value:function(){var _updatePost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(sectionID,postID,updatePostDTO){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return backendAPI.post(\"forum/sections/\".concat(sectionID,\"/posts/{postID}\"),updatePostDTO);case 2:case\"end\":return _context9.stop();}}},_callee9);}));function updatePost(_x13,_x14,_x15){return _updatePost.apply(this,arguments);}return updatePost;}()},{key:\"deletePost\",value:function(){var _deletePost=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(sectionID,postID){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return backendAPI.delete(\"forum/sections/\".concat(sectionID,\"/posts/\").concat(postID));case 2:case\"end\":return _context10.stop();}}},_callee10);}));function deletePost(_x16,_x17){return _deletePost.apply(this,arguments);}return deletePost;}()}]);return ForumServiceImplementation;}();export var forumService=new ForumServiceImplementation();","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-web/core/src/services/forum/Forum.ts"],"names":["backendAPI","ForumServiceImplementation","newSectionDTO","sectionID","post","newSection","data","parentSection","get","sections","updateSectionDTO","delete","newPostDTO","postID","updatePostDTO","forumService"],"mappings":"+kBACA,OAAQA,UAAR,KAAyB,WAAzB,C,GAWMC,CAAAA,0B,2QACJ,iBAAoBC,aAApB,CAAuDC,SAAvD,uJACwDH,CAAAA,UAAU,CAACI,IAAX,yBACnCD,SAAS,CAAG,IAAMA,SAAT,CAAqB,EADK,EAEpDD,aAFoD,CADxD,QACQG,UADR,+CAKSA,UAAU,CAACC,IALpB,wD,sNAOA,kBAAkBC,aAAlB,0JACwDP,CAAAA,UAAU,CAACQ,GAAX,yBACnCD,aAAa,CAAG,CAAC,CAAjB,CAAqB,IAAMA,aAA3B,CAA2C,EADR,EADxD,QACQE,QADR,iDAISA,QAAQ,CAACH,IAJlB,0D,mNAMA,kBAAqBH,SAArB,0JACsDH,CAAAA,UAAU,CAACQ,GAAX,0BAChCL,SADgC,EADtD,QACQM,QADR,iDAISA,QAAQ,CAACH,IAJlB,0D,0NAMA,kBACEH,SADF,CAEEO,gBAFF,6IAIQV,CAAAA,UAAU,CAACI,IAAX,0BAAkCD,SAAlC,EAA+CO,gBAA/C,CAJR,yD,2NAMA,kBAAoBP,SAApB,6IACQH,CAAAA,UAAU,CAACW,MAAX,0BAAoCR,SAApC,EADR,yD,iNAGA,kBAAiBA,SAAjB,CAAoCS,UAApC,4JACqDZ,CAAAA,UAAU,CAACI,IAAX,0BAC/BD,SAD+B,WAEjDS,UAFiD,CADrD,QACQP,UADR,iDAKSA,UAAU,CAACC,IALpB,0D,wMAOA,kBAAeC,aAAf,0JACqDP,CAAAA,UAAU,CAACQ,GAAX,0BAC/BD,aAD+B,WADrD,QACQE,QADR,iDAISA,QAAQ,CAACH,IAJlB,0D,qMAMA,kBAAkBC,aAAlB,CAAyCM,MAAzC,0JACmDb,CAAAA,UAAU,CAACQ,GAAX,0BAC7BD,aAD6B,mBACNM,MADM,EADnD,QACQJ,QADR,iDAISA,QAAQ,CAACH,IAJlB,0D,iNAMA,kBACEH,SADF,CAEEU,MAFF,CAGEC,aAHF,6IAKQd,CAAAA,UAAU,CAACI,IAAX,0BACcD,SADd,oBAEJW,aAFI,CALR,yD,mNAUA,mBAAiBX,SAAjB,CAAoCU,MAApC,kJACQb,CAAAA,UAAU,CAACW,MAAX,0BAAoCR,SAApC,mBAAuDU,MAAvD,EADR,2D,2IAKF,MAAO,IAAME,CAAAA,YAA0B,CAAG,GAAId,CAAAA,0BAAJ,EAAnC","sourcesContent":["import {AxiosResponse} from 'axios';\nimport {backendAPI} from '../../api';\nimport {ForumService} from './Forum.types';\nimport {\n  ForumPost,\n  ForumSection,\n  NewForumPostDTO,\n  NewForumSectionDTO,\n  UpdateForumPostDTO,\n  UpdateForumSectionDTO,\n} from '@instinct-prj/interface';\n\nclass ForumServiceImplementation implements ForumService {\n  async createSection(newSectionDTO: NewForumSectionDTO, sectionID?: number) {\n    const newSection: AxiosResponse<ForumSection> = await backendAPI.post(\n      `forum/sections${sectionID ? '/' + sectionID : ''}`,\n      newSectionDTO\n    );\n    return newSection.data;\n  }\n  async getSections(parentSection: number) {\n    const sections: AxiosResponse<ForumSection[]> = await backendAPI.get(\n      `forum/sections${parentSection > -1 ? '/' + parentSection : ''}`\n    );\n    return sections.data;\n  }\n  async getSectionByID(sectionID: number) {\n    const sections: AxiosResponse<ForumSection> = await backendAPI.get(\n      `forum/sections/${sectionID}`\n    );\n    return sections.data;\n  }\n  async updateSection(\n    sectionID: number,\n    updateSectionDTO: UpdateForumSectionDTO\n  ) {\n    await backendAPI.post(`forum/sections/${sectionID}`, updateSectionDTO);\n  }\n  async deleteSection(sectionID: number) {\n    await backendAPI.delete(`forum/sections/${sectionID}`);\n  }\n  async createPost(sectionID: number, newPostDTO: NewForumPostDTO) {\n    const newSection: AxiosResponse<ForumPost> = await backendAPI.post(\n      `forum/sections/${sectionID}/posts`,\n      newPostDTO\n    );\n    return newSection.data;\n  }\n  async getPosts(parentSection: number) {\n    const sections: AxiosResponse<ForumPost[]> = await backendAPI.get(\n      `forum/sections/${parentSection}/posts`\n    );\n    return sections.data;\n  }\n  async getPostByID(parentSection: number, postID: number) {\n    const sections: AxiosResponse<ForumPost> = await backendAPI.get(\n      `forum/sections/${parentSection}/posts/${postID}`\n    );\n    return sections.data;\n  }\n  async updatePost(\n    sectionID: number,\n    postID: number,\n    updatePostDTO: UpdateForumPostDTO\n  ) {\n    await backendAPI.post(\n      `forum/sections/${sectionID}/posts/{postID}`,\n      updatePostDTO\n    );\n  }\n  async deletePost(sectionID: number, postID: number) {\n    await backendAPI.delete(`forum/sections/${sectionID}/posts/${postID}`);\n  }\n}\n\nexport const forumService: ForumService = new ForumServiceImplementation();\n"]},"metadata":{},"sourceType":"module"}