{"ast":null,"code":"import _toConsumableArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{businessEditorContext}from'./BusinessEditor';import{exampleBusinessDTO}from'@instinct-plugin/roleplay-types';export function BusinessEditorProvider(_ref){var children=_ref.children;var _useState=useState(exampleBusinessDTO),_useState2=_slicedToArray(_useState,2),business=_useState2[0],setBusinessState=_useState2[1];function setBusiness(key,value){setBusinessState(function(_){return _objectSpread(_objectSpread({},_),{},_defineProperty({},key,value));});}function addPosition(position){setBusinessState(function(_){return _objectSpread(_objectSpread({},_),{},{positions:[].concat(_toConsumableArray(_.positions),[position])});});}function delPosition(index){setBusinessState(function(_){return _objectSpread(_objectSpread({},_),{},{positions:_.positions.filter(function(pos,i){return i!==index;})});});}return/*#__PURE__*/React.createElement(businessEditorContext.Provider,{value:{business:business,setBusiness:setBusiness,addPosition:addPosition,delPosition:delPosition}},children);}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/business/editor/context/BusinessEditorProvider.tsx"],"names":["React","useState","businessEditorContext","exampleBusinessDTO","BusinessEditorProvider","children","business","setBusinessState","setBusiness","key","value","_","addPosition","position","positions","delPosition","index","filter","pos","i"],"mappings":"6lBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,qBAAR,KAAoC,kBAApC,CAEA,OAGEC,kBAHF,KAIO,iCAJP,CAMA,MAAO,SAASC,CAAAA,sBAAT,MAAmE,IAAlCC,CAAAA,QAAkC,MAAlCA,QAAkC,CACxE,cAAqCJ,QAAQ,CAACE,kBAAD,CAA7C,wCAAOG,QAAP,eAAiBC,gBAAjB,eAEA,QAASC,CAAAA,WAAT,CACEC,GADF,CAEEC,KAFF,CAGE,CACAH,gBAAgB,CAAC,SAAAI,CAAC,wCACbA,CADa,wBAEfF,GAFe,CAETC,KAFS,IAAF,CAAhB,CAID,CAED,QAASE,CAAAA,WAAT,CAAqBC,QAArB,CAAoD,CAClDN,gBAAgB,CAAC,SAAAI,CAAC,wCACbA,CADa,MAEhBG,SAAS,8BAAMH,CAAC,CAACG,SAAR,GAAmBD,QAAnB,EAFO,IAAF,CAAhB,CAID,CAED,QAASE,CAAAA,WAAT,CAAqBC,KAArB,CAAoC,CAClCT,gBAAgB,CAAC,SAAAI,CAAC,wCACbA,CADa,MAEhBG,SAAS,CAAEH,CAAC,CAACG,SAAF,CAAYG,MAAZ,CAAmB,SAACC,GAAD,CAAMC,CAAN,QAAYA,CAAAA,CAAC,GAAKH,KAAlB,EAAnB,CAFK,IAAF,CAAhB,CAID,CAED,mBACE,oBAAC,qBAAD,CAAuB,QAAvB,EACE,KAAK,CAAE,CAACV,QAAQ,CAARA,QAAD,CAAWE,WAAW,CAAXA,WAAX,CAAwBI,WAAW,CAAXA,WAAxB,CAAqCG,WAAW,CAAXA,WAArC,CADT,EAGGV,QAHH,CADF,CAOD","sourcesContent":["import React, {useState} from 'react';\nimport {businessEditorContext} from './BusinessEditor';\nimport {ContextProvidersProps} from '@instinct-web/core';\nimport {\n  BusinessDTO,\n  BusinessPositionDTO,\n  exampleBusinessDTO,\n} from '@instinct-plugin/roleplay-types';\n\nexport function BusinessEditorProvider({children}: ContextProvidersProps) {\n  const [business, setBusinessState] = useState(exampleBusinessDTO);\n\n  function setBusiness<K extends keyof Omit<BusinessDTO, 'permissions'>>(\n    key: K,\n    value: Omit<BusinessDTO, 'permissions'>[K]\n  ) {\n    setBusinessState(_ => ({\n      ..._,\n      [key]: value,\n    }));\n  }\n\n  function addPosition(position: BusinessPositionDTO) {\n    setBusinessState(_ => ({\n      ..._,\n      positions: [..._.positions, position],\n    }));\n  }\n\n  function delPosition(index: number) {\n    setBusinessState(_ => ({\n      ..._,\n      positions: _.positions.filter((pos, i) => i !== index),\n    }));\n  }\n\n  return (\n    <businessEditorContext.Provider\n      value={{business, setBusiness, addPosition, delPosition}}\n    >\n      {children}\n    </businessEditorContext.Provider>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}