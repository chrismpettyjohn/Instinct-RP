{"ast":null,"code":"import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Moment from'moment';import React,{useState}from'react';import{Link,useRoute}from'wouter';import{Avatar,Input,setURL}from'@instinct-web/core';import{Row}from'../../../components/generic/row/Row';import{Icon}from'../../../components/generic/icon/Icon';import{Card}from'../../../components/generic/card/Card';import{UserLayout}from'../../../components/layout/user';import{UserContainer}from'../../../components/templates/user-container/UserContainer';import{Container}from'../../../components/generic/container/Container';import{useFetchPoliticalPartyByID}from'../../../hooks/political-party/fetch-political-party-by-id';import{capitalize}from'@material-ui/core';import{PartyActions}from'./party-actions/PartyActions';setURL('government/parties/view/:partyID',/*#__PURE__*/React.createElement(PartyView,null));export function PartyView(){var _politicalParty$ideol,_politicalParty$creat,_politicalParty$found,_politicalParty$found2,_politicalParty$found3,_politicalParty$found4,_politicalParty$membe3;var _useRoute=useRoute('/government/parties/view/:partyID'),_useRoute2=_slicedToArray(_useRoute,2),matched=_useRoute2[0],params=_useRoute2[1];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),reload=_useState2[0],setReload=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),usernameFilter=_useState4[0],setUsernameFilter=_useState4[1];var politicalParty=useFetchPoliticalPartyByID(params.partyID,reload);function getPartyMembersHeader(){var _politicalParty$membe,_politicalParty$membe2;return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},\"Party Members (\",(_politicalParty$membe=politicalParty===null||politicalParty===void 0?void 0:(_politicalParty$membe2=politicalParty.members)===null||_politicalParty$membe2===void 0?void 0:_politicalParty$membe2.length)!==null&&_politicalParty$membe!==void 0?_politicalParty$membe:0,\")\"),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"username\",onChange:function onChange(key,value){return setUsernameFilter(value.toLowerCase());},placeholder:\"Filter by username...\",value:usernameFilter})));}return/*#__PURE__*/React.createElement(UserLayout,{section:\"games_ranking\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 d-flex\"},/*#__PURE__*/React.createElement(Link,{to:\"/government/parties\"},/*#__PURE__*/React.createElement(Icon,{className:\"fa-4x text-white\",style:{cursor:'pointer'},type:\"caret-left\"})),/*#__PURE__*/React.createElement(\"h2\",{className:\"text-white ml-4\",style:{marginTop:10}},politicalParty===null||politicalParty===void 0?void 0:politicalParty.name))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Description\"),/*#__PURE__*/React.createElement(\"p\",null,politicalParty===null||politicalParty===void 0?void 0:politicalParty.description)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Ideology\"),/*#__PURE__*/React.createElement(\"p\",null,capitalize((_politicalParty$ideol=politicalParty===null||politicalParty===void 0?void 0:politicalParty.ideology)!==null&&_politicalParty$ideol!==void 0?_politicalParty$ideol:''))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Established\"),/*#__PURE__*/React.createElement(\"p\",null,Moment.unix((_politicalParty$creat=politicalParty===null||politicalParty===void 0?void 0:politicalParty.createdAt)!==null&&_politicalParty$creat!==void 0?_politicalParty$creat:0).format('MMMM DD, YYYY'))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Founded By\"),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex\"},/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(politicalParty===null||politicalParty===void 0?void 0:(_politicalParty$found=politicalParty.founder)===null||_politicalParty$found===void 0?void 0:_politicalParty$found.username)},/*#__PURE__*/React.createElement(\"div\",{className:\"member-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"member-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"member-avatar flex-container flex-vertical-center flex-horizontal-center\",style:{overflow:'hidden'}},/*#__PURE__*/React.createElement(Avatar,{look:politicalParty===null||politicalParty===void 0?void 0:(_politicalParty$found2=politicalParty.founder)===null||_politicalParty$found2===void 0?void 0:_politicalParty$found2.figure}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"ml-4\"},/*#__PURE__*/React.createElement(Link,{to:\"/profile/\".concat(politicalParty===null||politicalParty===void 0?void 0:(_politicalParty$found3=politicalParty.founder)===null||_politicalParty$found3===void 0?void 0:_politicalParty$found3.username)},/*#__PURE__*/React.createElement(\"h4\",{className:\"mt-4\"},/*#__PURE__*/React.createElement(\"b\",null,politicalParty===null||politicalParty===void 0?void 0:(_politicalParty$found4=politicalParty.founder)===null||_politicalParty$found4===void 0?void 0:_politicalParty$found4.username)))))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-8 mb-4\"},/*#__PURE__*/React.createElement(\"h4\",null,\"About\"),/*#__PURE__*/React.createElement(\"p\",null,politicalParty===null||politicalParty===void 0?void 0:politicalParty.about)))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(Card,{header:getPartyMembersHeader()},/*#__PURE__*/React.createElement(Row,null,politicalParty===null||politicalParty===void 0?void 0:(_politicalParty$membe3=politicalParty.members)===null||_politicalParty$membe3===void 0?void 0:_politicalParty$membe3.map(function(member){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 mb-2\",key:\"member_\".concat(member.id)},/*#__PURE__*/React.createElement(UserContainer,{key:\"member_\".concat(member.id),user:member}));}))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12 mb-4\"},/*#__PURE__*/React.createElement(Card,null,politicalParty&&/*#__PURE__*/React.createElement(PartyActions,{politicalParty:politicalParty,onChange:function onChange(){}}))))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/parties/PartyView.tsx"],"names":["Moment","React","useState","Link","useRoute","Avatar","Input","setURL","Row","Icon","Card","UserLayout","UserContainer","Container","useFetchPoliticalPartyByID","capitalize","PartyActions","PartyView","matched","params","reload","setReload","usernameFilter","setUsernameFilter","politicalParty","partyID","getPartyMembersHeader","members","length","key","value","toLowerCase","cursor","marginTop","name","description","ideology","unix","createdAt","format","founder","username","overflow","figure","about","map","member","id"],"mappings":"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","sourcesContent":["import Moment from 'moment';\nimport React, {useState} from 'react';\nimport {Link, useRoute} from 'wouter';\nimport {Avatar, Input, setURL} from '@instinct-web/core';\nimport {Row} from '../../../components/generic/row/Row';\nimport {Icon} from '../../../components/generic/icon/Icon';\nimport {Card} from '../../../components/generic/card/Card';\nimport {UserLayout} from '../../../components/layout/user';\nimport {UserContainer} from '../../../components/templates/user-container/UserContainer';\nimport {Container} from '../../../components/generic/container/Container';\nimport {useFetchPoliticalPartyByID} from '../../../hooks/political-party/fetch-political-party-by-id';\nimport {capitalize} from '@material-ui/core';\nimport {PartyActions} from './party-actions/PartyActions';\n\nsetURL('government/parties/view/:partyID', <PartyView />);\n\nexport function PartyView() {\n  const [matched, params] = useRoute<{partyID: string}>(\n    '/government/parties/view/:partyID'\n  );\n  const [reload, setReload] = useState(0);\n\n  const [usernameFilter, setUsernameFilter] = useState('');\n\n  const politicalParty = useFetchPoliticalPartyByID(params!.partyID, reload);\n\n  function getPartyMembersHeader() {\n    return (\n      <Row>\n        <div className=\"col-6\">\n          Party Members ({politicalParty?.members?.length ?? 0})\n        </div>\n        <div className=\"col-6\">\n          <Input\n            type=\"text\"\n            name=\"username\"\n            onChange={(key, value) => setUsernameFilter(value.toLowerCase())}\n            placeholder=\"Filter by username...\"\n            value={usernameFilter}\n          />\n        </div>\n      </Row>\n    );\n  }\n\n  return (\n    <UserLayout section=\"games_ranking\">\n      <Container>\n        <Row>\n          <div className=\"col-12 d-flex\">\n            <Link to=\"/government/parties\">\n              <Icon\n                className=\"fa-4x text-white\"\n                style={{cursor: 'pointer'}}\n                type=\"caret-left\"\n              />\n            </Link>\n            <h2 className=\"text-white ml-4\" style={{marginTop: 10}}>\n              {politicalParty?.name}\n            </h2>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12 mb-4\">\n            <Card>\n              <Row>\n                <div className=\"col-4 mb-4\">\n                  <h4>Description</h4>\n                  <p>{politicalParty?.description}</p>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Ideology</h4>\n                  <p>{capitalize(politicalParty?.ideology ?? '')}</p>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Established</h4>\n                  <p>\n                    {Moment.unix(politicalParty?.createdAt ?? 0).format(\n                      'MMMM DD, YYYY'\n                    )}\n                  </p>\n                </div>\n                <div className=\"col-4 mb-4\">\n                  <h4>Founded By</h4>\n                  <div className=\"d-flex\">\n                    <Link to={`/profile/${politicalParty?.founder?.username}`}>\n                      <div className=\"member-container\">\n                        <div className=\"member-content\">\n                          <div\n                            className=\"member-avatar flex-container flex-vertical-center flex-horizontal-center\"\n                            style={{overflow: 'hidden'}}\n                          >\n                            <Avatar look={politicalParty?.founder?.figure} />\n                          </div>\n                        </div>\n                      </div>\n                    </Link>\n                    <div className=\"ml-4\">\n                      <Link\n                        to={`/profile/${politicalParty?.founder?.username}`}\n                      >\n                        <h4 className=\"mt-4\">\n                          <b>{politicalParty?.founder?.username}</b>\n                        </h4>\n                      </Link>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col-8 mb-4\">\n                  <h4>About</h4>\n                  <p>{politicalParty?.about}</p>\n                </div>\n              </Row>\n            </Card>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12 mb-4\">\n            <Card header={getPartyMembersHeader()}>\n              <Row>\n                {politicalParty?.members?.map(member => (\n                  <div className=\"col-6 mb-2\" key={`member_${member.id}`}>\n                    <UserContainer key={`member_${member.id}`} user={member} />\n                  </div>\n                ))}\n              </Row>\n            </Card>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12 mb-4\">\n            <Card>\n              {politicalParty && (\n                <PartyActions\n                  politicalParty={politicalParty}\n                  onChange={() => {}}\n                />\n              )}\n            </Card>\n          </div>\n        </Row>\n      </Container>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}