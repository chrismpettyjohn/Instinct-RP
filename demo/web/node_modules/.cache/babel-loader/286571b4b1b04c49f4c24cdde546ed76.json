{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import Draggable from'react-draggable';import React,{useContext,useState}from'react';import{webSocketContext}from'../../context/web-socket';import{useWebSocketEventListener}from'../../hooks/web-socket';import{Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';export function GangInviteWidget(){var _useContext=useContext(webSocketContext),sendEvent=_useContext.sendEvent;useWebSocketEventListener('gang_invite_received',onInviteReceived);var _useState=useState(),_useState2=_slicedToArray(_useState,2),gangInvite=_useState2[0],setGangInvite=_useState2[1];function onInviteReceived(data){setGangInvite(data);}function onDecision(_x){return _onDecision.apply(this,arguments);}function _onDecision(){_onDecision=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(decision){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(decision){sendEvent('gang_invite_decision',{decision:decision,gang_id:gangInvite.gang_id,gang_rank:gangInvite.gang_rank,sender_id:gangInvite.sender_id});}setGangInvite(undefined);case 2:case\"end\":return _context.stop();}}},_callee);}));return _onDecision.apply(this,arguments);}if(!gangInvite){return null;}return/*#__PURE__*/React.createElement(Draggable,null,/*#__PURE__*/React.createElement(Modal,{backdrop:false,fade:false,isOpen:true},/*#__PURE__*/React.createElement(ModalHeader,null,\"You've been invited to join a gang!\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"job-offer-widget\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-uppercase\"},/*#__PURE__*/React.createElement(\"h2\",null,gangInvite.gang_name),/*#__PURE__*/React.createElement(\"img\",{className:\"business-logo\",src:\"/img/corps/\".concat(gangInvite.gang_badge,\".gif\")}),/*#__PURE__*/React.createElement(\"div\",{style:{background:'#001726',border:'1px solid #0b6395',width:250,margin:'0 auto',padding:5}},gangInvite.rank_name))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"div\",{className:\"row text-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mt-2 mr-3\",style:{cursor:'pointer'},onClick:function onClick(){return onDecision(false);}},\"Decline\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-success ml-2\",onClick:function onClick(){return onDecision(true);}},\"Accept\")))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/widgets/gang/GangInvite.tsx"],"names":["Draggable","React","useContext","useState","webSocketContext","useWebSocketEventListener","Modal","ModalBody","ModalFooter","ModalHeader","GangInviteWidget","sendEvent","onInviteReceived","gangInvite","setGangInvite","data","onDecision","decision","gang_id","gang_rank","sender_id","undefined","gang_name","gang_badge","background","border","width","margin","padding","rank_name","cursor"],"mappings":"4bAAA,MAAOA,CAAAA,SAAP,KAAsB,iBAAtB,CACA,MAAOC,CAAAA,KAAP,EAAeC,UAAf,CAA2BC,QAA3B,KAA0C,OAA1C,CACA,OAAQC,gBAAR,KAA+B,0BAA/B,CACA,OAAQC,yBAAR,KAAwC,wBAAxC,CACA,OAAQC,KAAR,CAAeC,SAAf,CAA0BC,WAA1B,CAAuCC,WAAvC,KAAyD,YAAzD,CAGA,MAAO,SAASC,CAAAA,gBAAT,EAA4B,CACjC,gBAAoBR,UAAU,CAACE,gBAAD,CAA9B,CAAOO,SAAP,aAAOA,SAAP,CACAN,yBAAyB,CAAC,sBAAD,CAAyBO,gBAAzB,CAAzB,CACA,cACET,QAAQ,EADV,wCAAOU,UAAP,eAAmBC,aAAnB,eAGA,QAASF,CAAAA,gBAAT,CAA0BG,IAA1B,CAA0E,CACxED,aAAa,CAACC,IAAD,CAAb,CACD,CARgC,QAUlBC,CAAAA,UAVkB,0IAUjC,iBAA0BC,QAA1B,kHACE,GAAIA,QAAJ,CAAc,CACZN,SAAS,CAAC,sBAAD,CAAyB,CAChCM,QAAQ,CAARA,QADgC,CAEhCC,OAAO,CAAEL,UAAU,CAAEK,OAFW,CAGhCC,SAAS,CAAEN,UAAU,CAAEM,SAHS,CAIhCC,SAAS,CAAEP,UAAU,CAAEO,SAJS,CAAzB,CAAT,CAMD,CACDN,aAAa,CAACO,SAAD,CAAb,CATF,sDAViC,6CAsBjC,GAAI,CAACR,UAAL,CAAiB,CACf,MAAO,KAAP,CACD,CAED,mBACE,oBAAC,SAAD,mBACE,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAjB,CAAwB,IAAI,CAAE,KAA9B,CAAqC,MAAM,KAA3C,eACE,oBAAC,WAAD,4CADF,cAEE,oBAAC,SAAD,EAAW,SAAS,CAAC,kBAArB,eACE,2BAAK,SAAS,CAAC,4BAAf,eACE,8BAAKA,UAAU,CAACS,SAAhB,CADF,cAEE,2BACE,SAAS,CAAC,eADZ,CAEE,GAAG,sBAAgBT,UAAU,CAACU,UAA3B,QAFL,EAFF,cAME,2BACE,KAAK,CAAE,CACLC,UAAU,CAAE,SADP,CAELC,MAAM,CAAE,mBAFH,CAGLC,KAAK,CAAE,GAHF,CAILC,MAAM,CAAE,QAJH,CAKLC,OAAO,CAAE,CALJ,CADT,EASGf,UAAU,CAACgB,SATd,CANF,CADF,CAFF,cAsBE,oBAAC,WAAD,mBACE,2BAAK,SAAS,CAAC,gBAAf,eACE,2BACE,SAAS,CAAC,WADZ,CAEE,KAAK,CAAE,CAACC,MAAM,CAAE,SAAT,CAFT,CAGE,OAAO,CAAE,yBAAMd,CAAAA,UAAU,CAAC,KAAD,CAAhB,EAHX,YADF,cAQE,8BACE,SAAS,CAAC,8BADZ,CAEE,OAAO,CAAE,yBAAMA,CAAAA,UAAU,CAAC,IAAD,CAAhB,EAFX,WARF,CADF,CAtBF,CADF,CADF,CA4CD","sourcesContent":["import Draggable from 'react-draggable';\nimport React, {useContext, useState} from 'react';\nimport {webSocketContext} from '../../context/web-socket';\nimport {useWebSocketEventListener} from '../../hooks/web-socket';\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\nimport {WebSocketIncomingGangInviteReceivedEvent} from '@instinct-plugin/roleplay-types';\n\nexport function GangInviteWidget() {\n  const {sendEvent} = useContext(webSocketContext);\n  useWebSocketEventListener('gang_invite_received', onInviteReceived);\n  const [gangInvite, setGangInvite] =\n    useState<WebSocketIncomingGangInviteReceivedEvent>();\n\n  function onInviteReceived(data: WebSocketIncomingGangInviteReceivedEvent) {\n    setGangInvite(data);\n  }\n\n  async function onDecision(decision: boolean) {\n    if (decision) {\n      sendEvent('gang_invite_decision', {\n        decision,\n        gang_id: gangInvite!.gang_id,\n        gang_rank: gangInvite!.gang_rank,\n        sender_id: gangInvite!.sender_id,\n      });\n    }\n    setGangInvite(undefined);\n  }\n\n  if (!gangInvite) {\n    return null;\n  }\n\n  return (\n    <Draggable>\n      <Modal backdrop={false} fade={false} isOpen>\n        <ModalHeader>You've been invited to join a gang!</ModalHeader>\n        <ModalBody className=\"job-offer-widget\">\n          <div className=\"text-center text-uppercase\">\n            <h2>{gangInvite.gang_name}</h2>\n            <img\n              className=\"business-logo\"\n              src={`/img/corps/${gangInvite.gang_badge}.gif`}\n            />\n            <div\n              style={{\n                background: '#001726',\n                border: '1px solid #0b6395',\n                width: 250,\n                margin: '0 auto',\n                padding: 5,\n              }}\n            >\n              {gangInvite.rank_name}\n            </div>\n          </div>\n        </ModalBody>\n        <ModalFooter>\n          <div className=\"row text-right\">\n            <div\n              className=\"mt-2 mr-3\"\n              style={{cursor: 'pointer'}}\n              onClick={() => onDecision(false)}\n            >\n              Decline\n            </div>\n            <button\n              className=\"btn btn-outline-success ml-2\"\n              onClick={() => onDecision(true)}\n            >\n              Accept\n            </button>\n          </div>\n        </ModalFooter>\n      </Modal>\n    </Draggable>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}