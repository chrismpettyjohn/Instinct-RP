{"ast":null,"code":"import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Link}from'wouter';import React,{useContext,useState}from'react';import{Row}from'../../../components/generic/row/Row';import{UserLayout}from'../../../components/layout/user';import{Icon,Input,sessionContext,setURL}from'@instinct-web/core';import{Container}from'../../../components/generic/container/Container';import{RPPermissionGuard}from'../../../components/templates/permission-guard';import{MiniJumbotron}from'../../../components/generic/mini-jumbotron/MiniJumbotron';import{useFetchPoliticalParties}from'../../../hooks/political-party/fetch-political-parties';import{PoliticalPartyCard}from'../../../components/templates/political-party-card/PoliticalPartyCard';setURL('government/parties',/*#__PURE__*/React.createElement(PartyDirectory,null));export function PartyDirectory(){var _useContext=useContext(sessionContext),user=_useContext.user;var politicalParties=useFetchPoliticalParties();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),partyNameFilter=_useState2[0],setPartyNameFilter=_useState2[1];var filteredParties=politicalParties===null||politicalParties===void 0?void 0:politicalParties.filter(function(_){return _.name.toLowerCase().includes(partyNameFilter);});var ownedPoliticalParties=politicalParties===null||politicalParties===void 0?void 0:politicalParties.filter(function(_){return _.founder.id===user.id;});return/*#__PURE__*/React.createElement(UserLayout,{section:\"games_ranking\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(MiniJumbotron,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Political Parties\"),/*#__PURE__*/React.createElement(\"p\",null,\"Check out all these cults\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-6 text-right\"},(ownedPoliticalParties===null||ownedPoliticalParties===void 0?void 0:ownedPoliticalParties.length)===0&&/*#__PURE__*/React.createElement(RPPermissionGuard,{permission:\"websiteRegisterPoliticalParty\",redirect:false},/*#__PURE__*/React.createElement(Link,{to:\"/government/parties/create\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success btn-lg\"},/*#__PURE__*/React.createElement(Icon,{type:\"plus-circle\"}),\"Register Party\")))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(MiniJumbotron,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(Input,{value:partyNameFilter!==null&&partyNameFilter!==void 0?partyNameFilter:'',name:\"party_filter\",placeholder:\"Search by party...\",type:\"text\",onChange:function onChange(key,value){return setPartyNameFilter(value.toLowerCase());}})))))),/*#__PURE__*/React.createElement(Row,null,filteredParties===null||filteredParties===void 0?void 0:filteredParties.map(function(politicalParty){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-6\",key:\"political_party_\".concat(politicalParty.id)},/*#__PURE__*/React.createElement(PoliticalPartyCard,{politicalParty:politicalParty}));}))));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/parties/PartyDirectory.tsx"],"names":["Link","React","useContext","useState","Row","UserLayout","Icon","Input","sessionContext","setURL","Container","RPPermissionGuard","MiniJumbotron","useFetchPoliticalParties","PoliticalPartyCard","PartyDirectory","user","politicalParties","partyNameFilter","setPartyNameFilter","filteredParties","filter","_","name","toLowerCase","includes","ownedPoliticalParties","founder","id","length","key","value","map","politicalParty"],"mappings":"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","sourcesContent":["import {Link} from 'wouter';\nimport React, {useContext, useState} from 'react';\nimport {Row} from '../../../components/generic/row/Row';\nimport {UserLayout} from '../../../components/layout/user';\nimport {Icon, Input, Select, sessionContext, setURL} from '@instinct-web/core';\nimport {Container} from '../../../components/generic/container/Container';\nimport {RPPermissionGuard} from '../../../components/templates/permission-guard';\nimport {MiniJumbotron} from '../../../components/generic/mini-jumbotron/MiniJumbotron';\nimport {useFetchPoliticalParties} from '../../../hooks/political-party/fetch-political-parties';\nimport {PoliticalPartyCard} from '../../../components/templates/political-party-card/PoliticalPartyCard';\n\nsetURL('government/parties', <PartyDirectory />);\n\nexport function PartyDirectory() {\n  const {user} = useContext(sessionContext);\n  const politicalParties = useFetchPoliticalParties();\n\n  const [partyNameFilter, setPartyNameFilter] = useState('');\n\n  const filteredParties = politicalParties?.filter(_ =>\n    _.name.toLowerCase().includes(partyNameFilter)\n  );\n\n  const ownedPoliticalParties = politicalParties?.filter(\n    _ => _.founder!.id === user!.id\n  );\n\n  return (\n    <UserLayout section=\"games_ranking\">\n      <Container>\n        <Row>\n          <div className=\"col-12\">\n            <MiniJumbotron>\n              <Row>\n                <div className=\"col-6\">\n                  <h1>Political Parties</h1>\n                  <p>Check out all these cults</p>\n                </div>\n                <div className=\"col-6 text-right\">\n                  {ownedPoliticalParties?.length === 0 && (\n                    <RPPermissionGuard\n                      permission=\"websiteRegisterPoliticalParty\"\n                      redirect={false}\n                    >\n                      <Link to=\"/government/parties/create\">\n                        <button className=\"btn btn-success btn-lg\">\n                          <Icon type=\"plus-circle\" />\n                          Register Party\n                        </button>\n                      </Link>\n                    </RPPermissionGuard>\n                  )}\n                </div>\n              </Row>\n            </MiniJumbotron>\n          </div>\n        </Row>\n        <Row>\n          <div className=\"col-12\">\n            <MiniJumbotron>\n              <Row>\n                <div className=\"col-12\">\n                  <Input\n                    value={partyNameFilter ?? ''}\n                    name=\"party_filter\"\n                    placeholder=\"Search by party...\"\n                    type=\"text\"\n                    onChange={(key, value) =>\n                      setPartyNameFilter(value.toLowerCase())\n                    }\n                  />\n                </div>\n              </Row>\n            </MiniJumbotron>\n          </div>\n        </Row>\n        <Row>\n          {filteredParties?.map(politicalParty => (\n            <div className=\"col-6\" key={`political_party_${politicalParty.id}`}>\n              <PoliticalPartyCard politicalParty={politicalParty} />\n            </div>\n          ))}\n        </Row>\n      </Container>\n    </UserLayout>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}