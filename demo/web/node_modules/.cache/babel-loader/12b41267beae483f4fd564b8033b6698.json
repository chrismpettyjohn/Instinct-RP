{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/government/laws/law-actions/LawActions.tsx\";\nimport { Row } from 'reactstrap';\nimport React, { useContext, useState } from 'react';\nimport { Icon, sessionContext } from '@instinct-web/core';\nimport { LawStatus, LawVoteStatus } from '@instinct-plugin/roleplay-types';\nimport { DismissLawModal } from './dismiss-law-modal/DismissLawModal';\nimport { RPPermissionGuard } from '../../../../components/templates/permission-guard';\nimport { VoteOnLawModal } from './vote-on-law-modal/VoteOnLawModal';\nexport function LawActions({\n  law\n}) {\n  const {\n    user\n  } = useContext(sessionContext);\n  const [hideVotingButtons, setHideVotingButtons] = useState(false);\n  const isAuthor = law.user.id === user.id;\n  const hasVoted = hideVotingButtons || law.votes.find(_ => _.user.id === user.id);\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    style: {\n      borderRight: '1px solid white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, \"Voting\"), law.status === LawStatus.UnderReview ? hasVoted ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, \"You already cast your vote\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(VoteOnLawModal, {\n    law: law,\n    vote: LawVoteStatus.Approved,\n    onFinish: () => setHideVotingButtons(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-success mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"thumbs-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 19\n    }\n  }), \"Approve\")), /*#__PURE__*/React.createElement(VoteOnLawModal, {\n    law: law,\n    vote: LawVoteStatus.Rejected,\n    onFinish: () => setHideVotingButtons(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-danger mr-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"thumbs-down\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }), \"Reject\"))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, \"This law is not able to be voted on\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"Other\"), /*#__PURE__*/React.createElement(RPPermissionGuard, {\n    permission: \"websiteVoteOnLaws\",\n    redirect: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, isAuthor && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-info mr-4\",\n    disabled: law.status !== LawStatus.Draft,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }), \"Edit\")), /*#__PURE__*/React.createElement(DismissLawModal, {\n    law: law,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })));\n}","map":null,"metadata":{},"sourceType":"module"}