{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useLocation}from'wouter';import{toast}from'react-toastify';import React,{useState}from'react';import{Icon}from'@instinct-web/core';import{businessService}from'../../../../services/business';import{Modal,ModalBody,ModalFooter,ModalHeader}from'reactstrap';export function ConfirmBusinessCreationModal(_ref){var businessDTO=_ref.businessDTO,isOpen=_ref.isOpen,onToggle=_ref.onToggle;var _useLocation=useLocation(),_useLocation2=_slicedToArray(_useLocation,2),location=_useLocation2[0],setLocation=_useLocation2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),spinner=_useState2[0],setSpinner=_useState2[1];function onConfirm(){return _onConfirm.apply(this,arguments);}function _onConfirm(){_onConfirm=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var business;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setSpinner(true);_context.next=4;return businessService.create(businessDTO);case 4:business=_context.sent;setLocation(\"/businesses/\".concat(business.id));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);toast.error('Failed to create business at this time.');case 11:_context.prev=11;setSpinner(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,8,11,14]]);}));return _onConfirm.apply(this,arguments);}return/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,toggle:onToggle},/*#__PURE__*/React.createElement(ModalHeader,{toggle:onToggle},\"Confirmation\"),/*#__PURE__*/React.createElement(ModalBody,null,/*#__PURE__*/React.createElement(\"h3\",null,\"Are You Sure?\"),/*#__PURE__*/React.createElement(\"p\",null,\"You are about to create a new business.\"),/*#__PURE__*/React.createElement(\"p\",null,\"Upon creating your business, the initial investment alongside registration fees will be automatically deducted from your balance.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"mt-3\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Total Cost\"),/*#__PURE__*/React.createElement(\"div\",{style:{background:'#001726',padding:10,fontWeight:500,fontSize:22}},\"$100\"))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(\"span\",{onClick:onToggle},\"Cancel\"),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-success ml-2\",disabled:spinner,onClick:onConfirm},spinner?/*#__PURE__*/React.createElement(React.Fragment,null,' ',/*#__PURE__*/React.createElement(Icon,{className:\"fa-spin\",type:\"spinner\"}),\" Saving\",' '):'Confirm')));}","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-theme/roleplay/src/pages/business/widgets/confirm-business-creation-modal/ConfirmBusinessCreationModal.tsx"],"names":["useLocation","toast","React","useState","Icon","businessService","Modal","ModalBody","ModalFooter","ModalHeader","ConfirmBusinessCreationModal","businessDTO","isOpen","onToggle","location","setLocation","spinner","setSpinner","onConfirm","create","business","id","error","background","padding","fontWeight","fontSize"],"mappings":"4bAAA,OAAQA,WAAR,KAA0B,QAA1B,CACA,OAAQC,KAAR,KAAoB,gBAApB,CACA,MAAOC,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,OAAQC,IAAR,KAAmB,oBAAnB,CACA,OAAQC,eAAR,KAA8B,+BAA9B,CACA,OAAQC,KAAR,CAAeC,SAAf,CAA0BC,WAA1B,CAAuCC,WAAvC,KAAyD,YAAzD,CAGA,MAAO,SAASC,CAAAA,4BAAT,MAI+B,IAHpCC,CAAAA,WAGoC,MAHpCA,WAGoC,CAFpCC,MAEoC,MAFpCA,MAEoC,CADpCC,QACoC,MADpCA,QACoC,CACpC,iBAAgCb,WAAW,EAA3C,8CAAOc,QAAP,kBAAiBC,WAAjB,kBAEA,cAA8BZ,QAAQ,CAAC,KAAD,CAAtC,wCAAOa,OAAP,eAAgBC,UAAhB,eAHoC,QAKrBC,CAAAA,SALqB,qIAKpC,gKAEID,UAAU,CAAC,IAAD,CAAV,CAFJ,sBAG2BZ,CAAAA,eAAe,CAACc,MAAhB,CAAuBR,WAAvB,CAH3B,QAGUS,QAHV,eAIIL,WAAW,uBAAgBK,QAAQ,CAACC,EAAzB,EAAX,CAJJ,+EAMIpB,KAAK,CAACqB,KAAN,CAAY,yCAAZ,EANJ,yBAQIL,UAAU,CAAC,KAAD,CAAV,CARJ,qGALoC,4CAiBpC,mBACE,oBAAC,KAAD,EAAO,MAAM,CAAEL,MAAf,CAAuB,MAAM,CAAEC,QAA/B,eACE,oBAAC,WAAD,EAAa,MAAM,CAAEA,QAArB,iBADF,cAEE,oBAAC,SAAD,mBACE,8CADF,cAEE,uEAFF,cAGE,iKAHF,cAOE,2BAAK,SAAS,CAAC,MAAf,eACE,2CADF,cAEE,2BACE,KAAK,CAAE,CACLU,UAAU,CAAE,SADP,CAELC,OAAO,CAAE,EAFJ,CAGLC,UAAU,CAAE,GAHP,CAILC,QAAQ,CAAE,EAJL,CADT,SAFF,CAPF,CAFF,cAuBE,oBAAC,WAAD,mBACE,4BAAM,OAAO,CAAEb,QAAf,WADF,cAEE,8BACE,SAAS,CAAC,8BADZ,CAEE,QAAQ,CAAEG,OAFZ,CAGE,OAAO,CAAEE,SAHX,EAKGF,OAAO,cACN,wCACG,GADH,cAEE,oBAAC,IAAD,EAAM,SAAS,CAAC,SAAhB,CAA0B,IAAI,CAAC,SAA/B,EAFF,WAEqD,GAFrD,CADM,CAMN,SAXJ,CAFF,CAvBF,CADF,CA2CD","sourcesContent":["import {useLocation} from 'wouter';\nimport {toast} from 'react-toastify';\nimport React, {useState} from 'react';\nimport {Icon} from '@instinct-web/core';\nimport {businessService} from '../../../../services/business';\nimport {Modal, ModalBody, ModalFooter, ModalHeader} from 'reactstrap';\nimport {ConfirmBusinessCreationModalProps} from './ConfirmBusinessCreationModal.types';\n\nexport function ConfirmBusinessCreationModal({\n  businessDTO,\n  isOpen,\n  onToggle,\n}: ConfirmBusinessCreationModalProps) {\n  const [location, setLocation] = useLocation();\n\n  const [spinner, setSpinner] = useState(false);\n\n  async function onConfirm() {\n    try {\n      setSpinner(true);\n      const business = await businessService.create(businessDTO);\n      setLocation(`/businesses/${business.id}`);\n    } catch {\n      toast.error('Failed to create business at this time.');\n    } finally {\n      setSpinner(false);\n    }\n  }\n\n  return (\n    <Modal isOpen={isOpen} toggle={onToggle}>\n      <ModalHeader toggle={onToggle}>Confirmation</ModalHeader>\n      <ModalBody>\n        <h3>Are You Sure?</h3>\n        <p>You are about to create a new business.</p>\n        <p>\n          Upon creating your business, the initial investment alongside\n          registration fees will be automatically deducted from your balance.\n        </p>\n        <div className=\"mt-3\">\n          <h3>Total Cost</h3>\n          <div\n            style={{\n              background: '#001726',\n              padding: 10,\n              fontWeight: 500,\n              fontSize: 22,\n            }}\n          >\n            $100\n          </div>\n        </div>\n      </ModalBody>\n      <ModalFooter>\n        <span onClick={onToggle}>Cancel</span>\n        <button\n          className=\"btn btn-outline-success ml-2\"\n          disabled={spinner}\n          onClick={onConfirm}\n        >\n          {spinner ? (\n            <>\n              {' '}\n              <Icon className=\"fa-spin\" type=\"spinner\" /> Saving{' '}\n            </>\n          ) : (\n            'Confirm'\n          )}\n        </button>\n      </ModalFooter>\n    </Modal>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}