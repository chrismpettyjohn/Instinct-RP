{"ast":null,"code":"import { useContext } from 'react';\nimport { useLocation } from 'wouter';\nimport { rpUserContext } from '../../../context/rp-user/RPUser';\nexport function RPPermissionGuard({\n  children,\n  permission,\n  redirect = true\n}) {\n  var _rpUser$rank;\n\n  const [location, setLocation] = useLocation();\n  const {\n    rpUser\n  } = useContext(rpUserContext);\n  const hasPermission = !!(rpUser === null || rpUser === void 0 ? void 0 : (_rpUser$rank = rpUser.rank) === null || _rpUser$rank === void 0 ? void 0 : _rpUser$rank.permissions[permission]);\n\n  if (!hasPermission) {\n    if (redirect) {\n      setLocation(rpUser ? '/me' : '/login');\n    }\n\n    return null;\n  }\n\n  return children;\n}","map":null,"metadata":{},"sourceType":"module"}