{"ast":null,"code":"import _objectSpread from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/chris/Projects/instinct/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import{backendAPI}from'../../api';var ArticleService=/*#__PURE__*/function(){function ArticleService(){_classCallCheck(this,ArticleService);}_createClass(ArticleService,[{key:\"getAll\",value:function(){var _getAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var articles;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return backendAPI.get('articles');case 2:articles=_context.sent;return _context.abrupt(\"return\",articles.data);case 4:case\"end\":return _context.stop();}}},_callee);}));function getAll(){return _getAll.apply(this,arguments);}return getAll;}()},{key:\"getByUser\",value:function(){var _getByUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userID){var articles;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return backendAPI.get(\"articles/by-user/\".concat(userID));case 2:articles=_context2.sent;return _context2.abrupt(\"return\",articles.data);case 4:case\"end\":return _context2.stop();}}},_callee2);}));function getByUser(_x){return _getByUser.apply(this,arguments);}return getByUser;}()},{key:\"getByID\",value:function(){var _getByID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(articleID){var article;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return backendAPI.get(\"articles/\".concat(articleID));case 2:article=_context3.sent;return _context3.abrupt(\"return\",article.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));function getByID(_x2){return _getByID.apply(this,arguments);}return getByID;}()},{key:\"create\",value:function(){var _create=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(articleDTO){var article;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return backendAPI.post('articles',_objectSpread({},articleDTO));case 2:article=_context4.sent;return _context4.abrupt(\"return\",article.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));function create(_x3){return _create.apply(this,arguments);}return create;}()},{key:\"updateByID\",value:function(){var _updateByID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(articleID,articleDTO){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return backendAPI.patch(\"articles/\".concat(articleID),_objectSpread({},articleDTO));case 2:case\"end\":return _context5.stop();}}},_callee5);}));function updateByID(_x4,_x5){return _updateByID.apply(this,arguments);}return updateByID;}()},{key:\"deleteByID\",value:function(){var _deleteByID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(articleID){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return backendAPI.delete(\"articles/\".concat(articleID));case 2:case\"end\":return _context6.stop();}}},_callee6);}));function deleteByID(_x6){return _deleteByID.apply(this,arguments);}return deleteByID;}()},{key:\"getAllCategories\",value:function(){var _getAllCategories=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var categories;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return backendAPI.get('categories');case 2:categories=_context7.sent;return _context7.abrupt(\"return\",categories.data);case 4:case\"end\":return _context7.stop();}}},_callee7);}));function getAllCategories(){return _getAllCategories.apply(this,arguments);}return getAllCategories;}()},{key:\"createCategory\",value:function(){var _createCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(name,color){var newCategory;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return backendAPI.post('categories',{name:name,color:color});case 2:newCategory=_context8.sent;return _context8.abrupt(\"return\",newCategory.data);case 4:case\"end\":return _context8.stop();}}},_callee8);}));function createCategory(_x7,_x8){return _createCategory.apply(this,arguments);}return createCategory;}()},{key:\"deleteCategoryByID\",value:function(){var _deleteCategoryByID=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(categoryID){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return backendAPI.delete(\"categories/\".concat(categoryID));case 2:case\"end\":return _context9.stop();}}},_callee9);}));function deleteCategoryByID(_x9){return _deleteCategoryByID.apply(this,arguments);}return deleteCategoryByID;}()},{key:\"createComment\",value:function(){var _createComment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(articleID,commentDTO){var newComment;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return backendAPI.post(\"articles/\".concat(articleID,\"/comments\"),commentDTO);case 2:newComment=_context10.sent;return _context10.abrupt(\"return\",newComment.data);case 4:case\"end\":return _context10.stop();}}},_callee10);}));function createComment(_x10,_x11){return _createComment.apply(this,arguments);}return createComment;}()},{key:\"deleteComment\",value:function(){var _deleteComment=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(articleID,commentID){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return backendAPI.delete(\"articles/\".concat(articleID,\"/comments/\").concat(commentID));case 2:case\"end\":return _context11.stop();}}},_callee11);}));function deleteComment(_x12,_x13){return _deleteComment.apply(this,arguments);}return deleteComment;}()}]);return ArticleService;}();export var articleService=new ArticleService();","map":{"version":3,"sources":["/Users/chris/Projects/instinct/packages/@instinct-web/core/src/services/article/Article.ts"],"names":["backendAPI","ArticleService","get","articles","data","userID","articleID","article","articleDTO","post","patch","delete","categories","name","color","newCategory","categoryID","commentDTO","newComment","commentID","articleService"],"mappings":"muBAEA,OAAQA,UAAR,KAAyB,WAAzB,C,GASMC,CAAAA,c,yNACJ,sKACmDD,CAAAA,UAAU,CAACE,GAAX,CAAe,UAAf,CADnD,QACQC,QADR,+CAESA,QAAQ,CAACC,IAFlB,wD,uLAKA,kBAAgBC,MAAhB,0JACmDL,CAAAA,UAAU,CAACE,GAAX,4BAC3BG,MAD2B,EADnD,QACQF,QADR,iDAISA,QAAQ,CAACC,IAJlB,0D,8LAOA,kBAAcE,SAAd,yJACgDN,CAAAA,UAAU,CAACE,GAAX,oBAChCI,SADgC,EADhD,QACQC,OADR,iDAISA,OAAO,CAACH,IAJjB,0D,uLAOA,kBAAaI,UAAb,yJACgDR,CAAAA,UAAU,CAACS,IAAX,CAAgB,UAAhB,kBACzCD,UADyC,EADhD,QACQD,OADR,iDAISA,OAAO,CAACH,IAJjB,0D,4LAOA,kBAAiBE,SAAjB,CAAoCE,UAApC,6IACQR,CAAAA,UAAU,CAACU,KAAX,oBAA6BJ,SAA7B,mBAA8CE,UAA9C,EADR,yD,4MAIA,kBAAiBF,SAAjB,6IACQN,CAAAA,UAAU,CAACW,MAAX,oBAA8BL,SAA9B,EADR,yD,oNAIA,8KAC6DN,CAAAA,UAAU,CAACE,GAAX,CACzD,YADyD,CAD7D,QACQU,UADR,iDAISA,UAAU,CAACR,IAJpB,0D,+NAOA,kBAAqBS,IAArB,CAAmCC,KAAnC,6JAC4Dd,CAAAA,UAAU,CAACS,IAAX,CACxD,YADwD,CAExD,CAACI,IAAI,CAAJA,IAAD,CAAOC,KAAK,CAALA,KAAP,CAFwD,CAD5D,QACQC,WADR,iDAKSA,WAAW,CAACX,IALrB,0D,wOAQA,kBAAyBY,UAAzB,6IACQhB,CAAAA,UAAU,CAACW,MAAX,sBAAgCK,UAAhC,EADR,yD,sOAIA,mBAAoBV,SAApB,CAAuCW,UAAvC,iKAC0DjB,CAAAA,UAAU,CAACS,IAAX,oBAC1CH,SAD0C,cAEtDW,UAFsD,CAD1D,QACQC,UADR,mDAKSA,UAAU,CAACd,IALpB,4D,6NAQA,mBAAoBE,SAApB,CAAuCa,SAAvC,kJACQnB,CAAAA,UAAU,CAACW,MAAX,oBAA8BL,SAA9B,sBAAoDa,SAApD,EADR,2D,wIAKF,MAAO,IAAMC,CAAAA,cAA4B,CAAG,GAAInB,CAAAA,cAAJ,EAArC","sourcesContent":["import {ArticleTypes} from './';\nimport {AxiosResponse} from 'axios';\nimport {backendAPI} from '../../api';\nimport {\n  Article,\n  ArticleCategory,\n  ArticleComment,\n  ArticleCommentDTO,\n  ArticleDTO,\n} from '@instinct-prj/interface';\n\nclass ArticleService implements ArticleTypes {\n  async getAll() {\n    const articles: AxiosResponse<Article[]> = await backendAPI.get('articles');\n    return articles.data;\n  }\n\n  async getByUser(userID: number) {\n    const articles: AxiosResponse<Article[]> = await backendAPI.get(\n      `articles/by-user/${userID}`\n    );\n    return articles.data;\n  }\n\n  async getByID(articleID: string) {\n    const article: AxiosResponse<Article> = await backendAPI.get(\n      `articles/${articleID}`\n    );\n    return article.data;\n  }\n\n  async create(articleDTO: ArticleDTO) {\n    const article: AxiosResponse<Article> = await backendAPI.post('articles', {\n      ...articleDTO,\n    });\n    return article.data;\n  }\n\n  async updateByID(articleID: string, articleDTO: Partial<ArticleDTO>) {\n    await backendAPI.patch(`articles/${articleID}`, {...articleDTO});\n  }\n\n  async deleteByID(articleID: number) {\n    await backendAPI.delete(`articles/${articleID}`);\n  }\n\n  async getAllCategories() {\n    const categories: AxiosResponse<ArticleCategory[]> = await backendAPI.get(\n      'categories'\n    );\n    return categories.data;\n  }\n\n  async createCategory(name: string, color: string) {\n    const newCategory: AxiosResponse<ArticleCategory> = await backendAPI.post(\n      'categories',\n      {name, color}\n    );\n    return newCategory.data;\n  }\n\n  async deleteCategoryByID(categoryID: number) {\n    await backendAPI.delete(`categories/${categoryID}`);\n  }\n\n  async createComment(articleID: number, commentDTO: ArticleCommentDTO) {\n    const newComment: AxiosResponse<ArticleComment> = await backendAPI.post(\n      `articles/${articleID}/comments`,\n      commentDTO\n    );\n    return newComment.data;\n  }\n\n  async deleteComment(articleID: number, commentID: number) {\n    await backendAPI.delete(`articles/${articleID}/comments/${commentID}`);\n  }\n}\n\nexport const articleService: ArticleTypes = new ArticleService();\n"]},"metadata":{},"sourceType":"module"}